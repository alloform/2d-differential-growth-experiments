"use strict";function _typeof2(t){return(_typeof2="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _slicedToArray(t,e){return _arrayWithHoles(t)||_iterableToArrayLimit(t,e)||_unsupportedIterableToArray(t,e)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArrayLimit(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var n=[],r=!0,i=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{r||null==a.return||a.return()}finally{if(i)throw o}}return n}}function _arrayWithHoles(t){if(Array.isArray(t))return t}function _createForOfIteratorHelper(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=_unsupportedIterableToArray(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,e=function(){};return{s:e,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:e}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return o=t.done,t},e:function(t){s=!0,i=t},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw i}}}}function _unsupportedIterableToArray(t,e){if(t){if("string"==typeof t)return _arrayLikeToArray(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(t,e):void 0}}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return(_setPrototypeOf=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function _createSuper(n){var r=_isNativeReflectConstruct();return function(){var t,e=_getPrototypeOf(n);return _possibleConstructorReturn(this,r?(t=_getPrototypeOf(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments))}}function _possibleConstructorReturn(t,e){return!e||"object"!==_typeof2(e)&&"function"!=typeof e?_assertThisInitialized(t):e}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),t}!function r(i,o,s){function a(e,t){if(!o[e]){if(!i[e]){var n="function"==typeof require&&require;if(!t&&n)return n(e,!0);if(h)return h(e,!0);throw(n=new Error("Cannot find module '"+e+"'")).code="MODULE_NOT_FOUND",n}n=o[e]={exports:{}},i[e][0].call(n.exports,function(t){return a(i[e][1][t]||t)},n,n.exports,r,i,o,s)}return o[e].exports}for(var h="function"==typeof require&&require,t=0;t<s.length;t++)a(s[t]);return a}({1:[function(t,e,n){var r=t("./node_modules/point-in-polygon"),t=function(){function n(t,e){_classCallCheck(this,n),this.p5=t,this.polygon=e}return _createClass(n,[{key:"contains",value:function(t){return r(t,this.polygon)}},{key:"draw",value:function(){this.p5.beginShape();for(var t=0;t<this.polygon.length;t++)this.p5.vertex(this.polygon[t][0],this.polygon[t][1]);this.p5.vertex(this.polygon[0][0],this.polygon[0][1]),this.p5.endShape()}}]),n}();e.exports=t},{"./node_modules/point-in-polygon":7}],2:[function(t,e,n){e.exports={MinDistance:20,MaxDistance:30,RepulsionRadius:20,MaxVelocity:.1,AttractionForce:.001,RepulsionForce:500,AlignmentForce:.001,NodeInjectionInterval:100,DrawNodes:!1,TraceMode:!1,InvertedColors:!1,DebugMode:!1,FillMode:!1,DrawHistory:!1,HistoryCaptureInterval:1e3,MaxHistorySize:10,UseBrownianMotion:!0,BrownianMotionRange:.01,ShowBounds:!0}},{}],3:[function(t,e,n){var l=t("./node_modules/vec2"),c=t("./Defaults"),t=function(){_inherits(u,l);var h=_createSuper(u);function u(t,e,n){var r,i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:c,o=4<arguments.length&&void 0!==arguments[4]&&arguments[4],s=5<arguments.length?arguments[5]:void 0,a=6<arguments.length?arguments[6]:void 0;return _classCallCheck(this,u),(r=h.call(this,e,n)).p5=t,r.isFixed=o,r.settings=Object.assign({},c,i),r.velocity=0,r.nextPosition=new l(e,n),r.minDistance=s||i.MinDistance,r.repulsionRadius=a||i.RepulsionRadius,r}return _createClass(u,[{key:"iterate",value:function(){this.isFixed||(this.x=this.p5.lerp(this.x,this.nextPosition.x,this.settings.MaxVelocity),this.y=this.p5.lerp(this.y,this.nextPosition.y,this.settings.MaxVelocity))}},{key:"draw",value:function(){this.isFixed?this.p5.ellipse(this.x,this.y,20):this.p5.ellipse(this.x,this.y,5)}}]),u}();e.exports=t},{"./Defaults":2,"./node_modules/vec2":16}],4:[function(t,e,n){var i=t("./node_modules/rbush-knn"),o=t("./Node"),r=t("./Bounds"),l=t("./Defaults"),t=function(){function u(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:l,r=3<arguments.length&&void 0!==arguments[3]&&arguments[3],i=4<arguments.length&&void 0!==arguments[4]&&arguments[4],o=5<arguments.length&&void 0!==arguments[5]?arguments[5]:{h:0,s:0,b:0,a:255},s=6<arguments.length&&void 0!==arguments[6]?arguments[6]:{h:0,s:0,b:0,a:255},a=7<arguments.length&&void 0!==arguments[7]?arguments[7]:{h:0,s:0,b:255,a:255},h=8<arguments.length&&void 0!==arguments[8]?arguments[8]:{h:0,s:0,b:255,a:255};_classCallCheck(this,u),this.p5=t,this.nodes=e,this.isClosed=r,this.settings=Object.assign({},l,n),this.bounds=i,this.injectionMode="RANDOM",this.lastNodeInjectTime=0,this.nodeHistory=[],this.drawNodes=this.settings.DrawNodes,this.invertedColors=this.settings.InvertedColors,this.traceMode=this.settings.TraceMode,this.debugMode=this.settings.DebugMode,this.fillMode=this.settings.FillMode,this.useBrownianMotion=this.settings.UseBrownianMotion,this.drawHistory=this.settings.DrawHistory,this.showBounds=this.settings.ShowBounds,this.fillColor=o,this.strokeColor=s,this.invertedFillColor=a,this.invertedStrokeColor=h,this.currentFillColor=this.fillColor,this.currentStrokeColor=this.strokeColor,this.invertedColors&&(this.currentFillColor=this.invertedFillColor,this.currentStrokeColor=this.invertedStrokeColor)}return _createClass(u,[{key:"iterate",value:function(t){var e=_createForOfIteratorHelper(this.nodes.entries());try{for(e.s();!(r=e.n()).done;){var n=_slicedToArray(r.value,2),r=n[0],n=n[1];this.useBrownianMotion&&this.applyBrownianMotion(r),this.applyAttraction(r),this.applyRepulsion(r,t),this.applyAlignment(r),this.applyBounds(r),n.iterate()}}catch(t){e.e(t)}finally{e.f()}this.splitEdges(),this.pruneNodes(),this.p5.millis()-this.lastNodeInjectTime>=this.settings.NodeInjectionInterval&&(this.injectNode(),this.lastNodeInjectTime=this.p5.millis())}},{key:"applyBrownianMotion",value:function(t){this.nodes[t].x+=this.p5.random(-this.settings.BrownianMotionRange/2,this.settings.BrownianMotionRange/2),this.nodes[t].y+=this.p5.random(-this.settings.BrownianMotionRange/2,this.settings.BrownianMotionRange/2)}},{key:"applyAttraction",value:function(t){var e,n=this.getConnectedNodes(t);null!=n.nextNode&&n.nextNode instanceof o&&!this.nodes[t].isFixed&&(e=this.nodes[t].distance(n.nextNode),Math.min(this.nodes[t].minDistance,n.nextNode.minDistance)<e&&(this.nodes[t].nextPosition.x=this.p5.lerp(this.nodes[t].nextPosition.x,n.nextNode.x,this.settings.AttractionForce),this.nodes[t].nextPosition.y=this.p5.lerp(this.nodes[t].nextPosition.y,n.nextNode.y,this.settings.AttractionForce))),null!=n.previousNode&&n.previousNode instanceof o&&!this.nodes[t].isFixed&&(e=this.nodes[t].distance(n.previousNode),Math.min(this.nodes[t].minDistance,n.previousNode.minDistance)<e&&(this.nodes[t].nextPosition.x=this.p5.lerp(this.nodes[t].nextPosition.x,n.previousNode.x,this.settings.AttractionForce),this.nodes[t].nextPosition.y=this.p5.lerp(this.nodes[t].nextPosition.y,n.previousNode.y,this.settings.AttractionForce)))}},{key:"applyRepulsion",value:function(t,e){var n=_createForOfIteratorHelper(i(e,this.nodes[t].x,this.nodes[t].y,void 0,void 0,this.nodes[t].repulsionRadius*this.nodes[t].repulsionRadius));try{for(n.s();!(r=n.n()).done;){var r=r.value;this.nodes[t].nextPosition.x=this.p5.lerp(this.nodes[t].x,r.x,-this.settings.RepulsionForce),this.nodes[t].nextPosition.y=this.p5.lerp(this.nodes[t].y,r.y,-this.settings.RepulsionForce)}}catch(t){n.e(t)}finally{n.f()}}},{key:"applyAlignment",value:function(t){var e=this.getConnectedNodes(t);null!=e.previousNode&&e.previousNode instanceof o&&null!=e.nextNode&&e.nextNode instanceof o&&!this.nodes[t].isFixed&&(e=this.getMidpointNode(e.previousNode,e.nextNode),this.nodes[t].nextPosition.x=this.p5.lerp(this.nodes[t].nextPosition.x,e.x,this.settings.AlignmentForce),this.nodes[t].nextPosition.y=this.p5.lerp(this.nodes[t].nextPosition.y,e.y,this.settings.AlignmentForce))}},{key:"splitEdges",value:function(){var e=_createForOfIteratorHelper(this.nodes.entries());try{for(e.s();!(r=e.n()).done;){var t=_slicedToArray(r.value,2),n=t[0],r=t[1],t=this.getConnectedNodes(n);null!=t.previousNode&&t.previousNode instanceof o&&r.distance(t.previousNode)>=this.settings.MaxDistance&&(t=this.getMidpointNode(r,t.previousNode),0==n?this.nodes.splice(this.nodes.length,0,t):this.nodes.splice(n,0,t))}}catch(t){e.e(t)}finally{e.f()}}},{key:"pruneNodes",value:function(){var e=_createForOfIteratorHelper(this.nodes.entries());try{for(e.s();!(r=e.n()).done;){var t=_slicedToArray(r.value,2),n=t[0],r=t[1],t=this.getConnectedNodes(n);null!=t.previousNode&&t.previousNode instanceof o&&r.distance(t.previousNode)<this.settings.MinDistance&&(0==n?this.nodes[this.nodes.length-1].isFixed||this.nodes.splice(this.nodes.length-1,1):this.nodes[n-1].isFixed||this.nodes.splice(n-1,1))}}catch(t){e.e(t)}finally{e.f()}}},{key:"injectNode",value:function(){switch(this.injectionMode){case"RANDOM":this.injectRandomNode();break;case"CURVATURE":this.injectNodeByCurvature()}}},{key:"injectRandomNode",value:function(){var t=parseInt(this.p5.random(1,this.nodes.length)),e=this.getConnectedNodes(t);null!=e.previousNode&&e.previousNode instanceof o&&null!=e.nextNode&&e.nextNode instanceof o&&this.nodes[t].distance(e.previousNode)>this.settings.MinDistance&&(e=this.getMidpointNode(this.nodes[t],e.previousNode),this.nodes.splice(t,0,e))}},{key:"injectNodeByCurvature",value:function(){var e=_createForOfIteratorHelper(this.nodes.entries());try{for(e.s();!(t=e.n()).done;){var t,n=_slicedToArray(t.value,2),r=n[0],i=n[1],o=this.getConnectedNodes(r);null!=o.previousNode&&null!=o.nextNode&&(t=o.nextNode.y-o.previousNode.y,n=o.nextNode.x-o.previousNode.x,20<Math.round(Math.abs(Math.atan(t/n)))&&(n=this.getMidpointNode(i,o.previousNode),o=this.getMidpointNode(i,o.nextNode),0==r?(this.nodes.splice(this.nodes.length-1,0,n),this.nodes.splice(0,0,o)):this.nodes.splice(r,1,n,o)))}}catch(t){e.e(t)}finally{e.f()}}},{key:"applyBounds",value:function(t){null!=this.bounds&&this.bounds instanceof r&&!this.bounds.contains([this.nodes[t].x,this.nodes[t].y])&&(this.nodes[t].isFixed=!0)}},{key:"getConnectedNodes",value:function(t){var e,n;return 0==t&&this.isClosed?e=this.nodes[this.nodes.length-1]:1<=t&&(e=this.nodes[t-1]),t==this.nodes.length-1&&this.isClosed?n=this.nodes[0]:t<=this.nodes.length-1&&(n=this.nodes[t+1]),{previousNode:e,nextNode:n}}},{key:"getMidpointNode",value:function(t,e,n){n=2<arguments.length&&void 0!==n&&n;return new o(this.p5,(t.x+e.x)/2,(t.y+e.y)/2,this.settings,n)}},{key:"draw",value:function(){this.drawHistory&&this.drawPreviousEdges(),this.showBounds&&null!=this.bounds&&this.bounds instanceof r&&this.drawBounds(),this.fillMode&&this.isClosed?this.p5.fill(this.currentFillColor.h,this.currentFillColor.s,this.currentFillColor.b,this.currentFillColor.a):this.p5.noFill(),this.p5.stroke(this.currentStrokeColor.h,this.currentStrokeColor.s,this.currentStrokeColor.b,this.currentStrokeColor.a),this.drawCurrentEdges(),this.drawNodes&&this.drawCurrentNodes()}},{key:"drawCurrentEdges",value:function(){this.drawEdges(this.nodes)}},{key:"drawPreviousEdges",value:function(){var e=_createForOfIteratorHelper(this.nodeHistory.entries());try{for(e.s();!(n=e.n()).done;){var t=_slicedToArray(n.value,2),n=t[0],t=t[1];this.p5.stroke(this.currentStrokeColor.h,this.currentStrokeColor.s,this.currentStrokeColor.b,30*n),this.drawEdges(t)}}catch(t){e.e(t)}finally{e.f()}}},{key:"drawEdges",value:function(t){this.debugMode||this.p5.beginShape();for(var e=0;e<t.length;e++)this.debugMode?0<e&&(this.traceMode?this.p5.stroke(this.p5.map(e,0,t.length-1,0,255,!0),255,255,2):this.p5.stroke(this.p5.map(e,0,t.length-1,0,255,!0),255,255,255),this.p5.line(t[e-1].x,t[e-1].y,t[e].x,t[e].y)):this.p5.vertex(t[e].x,t[e].y);this.isClosed&&(this.debugMode?this.p5.line(t[t.length-1].x,t[t.length-1].y,t[0].x,t[0].y):this.p5.vertex(t[0].x,t[0].y)),this.debugMode||this.p5.endShape()}},{key:"drawCurrentNodes",value:function(){this.p5.noStroke(),this.invertedColors?this.p5.fill(255):this.p5.fill(0);var e=_createForOfIteratorHelper(this.nodes.entries());try{for(e.s();!(n=e.n()).done;){var t=_slicedToArray(n.value,2),n=t[0],t=t[1];this.debugMode&&this.p5.fill(this.p5.map(n,0,this.nodes.length-1,0,255,!0),255,255,255),t.draw()}}catch(t){e.e(t)}finally{e.f()}}},{key:"drawBounds",value:function(){this.invertedColors?this.p5.stroke(100):this.p5.stroke(200),this.p5.noFill(),this.bounds.draw()}},{key:"addToHistory",value:function(){this.nodeHistory.length==this.settings.MaxHistorySize&&this.nodeHistory.shift(),this.nodeHistory.push(Object.assign([],JSON.parse(JSON.stringify(this.nodes))))}},{key:"moveTo",value:function(t,e){var n=_createForOfIteratorHelper(this.nodes);try{for(n.s();!(r=n.n()).done;){var r=r.value;r.x+=t,r.y+=e}}catch(t){n.e(t)}finally{n.f()}}},{key:"scale",value:function(t){var e=_createForOfIteratorHelper(this.nodes);try{for(e.s();!(n=e.n()).done;){var n=n.value;n.x*=t,n.y*=t}}catch(t){e.e(t)}finally{e.f()}}},{key:"addNode",value:function(t){this.nodes.push(t)}},{key:"toArray",value:function(){var t=[],e=_createForOfIteratorHelper(this.nodes);try{for(e.s();!(n=e.n()).done;){var n=n.value;t.push([n.x,n.y])}}catch(t){e.e(t)}finally{e.f()}return t}},{key:"getTraceMode",value:function(){return this.traceMode}},{key:"getInvertedColors",value:function(){return this.invertedColors}},{key:"setMinDistance",value:function(t){this.settings.MinDistance=t;var e,n=_createForOfIteratorHelper(this.nodes);try{for(n.s();!(e=n.n()).done;){e.value.minDistance=t}}catch(t){n.e(t)}finally{n.f()}}},{key:"setMaxDistance",value:function(t){this.settings.MaxDistance=t;var e,n=_createForOfIteratorHelper(this.nodes);try{for(n.s();!(e=n.n()).done;){e.value.maxDistance=t}}catch(t){n.e(t)}finally{n.f()}}},{key:"setRepulsionRadius",value:function(t){this.settings.RepulsionRadius=t;var e,n=_createForOfIteratorHelper(this.nodes);try{for(n.s();!(e=n.n()).done;){e.value.repulsionRadius=t}}catch(t){n.e(t)}finally{n.f()}}},{key:"setTraceMode",value:function(t){this.traceMode=t,this.traceMode,this.currentFillColor.a=255,this.currentStrokeColor.a=255}},{key:"setInvertedColors",value:function(t){this.invertedColors=t,this.invertedColors?(this.currentFillColor=this.invertedFillColor,this.currentStrokeColor=this.invertedStrokeColor):(this.currentFillColor=this.fillColor,this.currentStrokeColor=this.strokeColor),this.setTraceMode(this.traceMode)}},{key:"setBounds",value:function(t){this.bounds=t}},{key:"toggleTraceMode",value:function(){this.setTraceMode(!this.getTraceMode())}},{key:"toggleInvertedColors",value:function(){this.setInvertedColors(!this.getInvertedColors())}}]),u}();e.exports=t},{"./Bounds":1,"./Defaults":2,"./Node":3,"./node_modules/rbush-knn":9}],5:[function(t,e,n){var o=t("./node_modules/rbush"),a=t("./node_modules/svg-points/").toPath,h=t("./node_modules/file-saver").saveAs,s=t("./Defaults"),t=function(){function i(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:s,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:[];_classCallCheck(this,i),this.p5=t,this.paths=n,this.paused=!1,this.settings=Object.assign({},s,e),this.traceMode=this.settings.TraceMode,this.drawNodes=this.settings.DrawNodes,this.debugMode=this.settings.DebugMode,this.invertedColors=this.settings.InvertedColors,this.fillMode=this.settings.FillMode,this.drawHistory=this.settings.DrawHistory,this.useBrownianMotion=this.settings.UseBrownianMotion,this.showBounds=this.settings.ShowBounds,this.tree=o(9,[".x",".y",".x",".y"]),this.buildTree();var r=this;setInterval(function(){r.addToHistory()},this.settings.HistoryCaptureInterval)}return _createClass(i,[{key:"iterate",value:function(){if(this.prunePaths(),this.buildTree(),null!=this.paths&&this.paths instanceof Array&&0<this.paths.length&&!this.paused){var t,e=_createForOfIteratorHelper(this.paths);try{for(e.s();!(t=e.n()).done;){t.value.iterate(this.tree)}}catch(t){e.e(t)}finally{e.f()}}}},{key:"draw",value:function(){this.traceMode||this.drawBackground();var t,e=_createForOfIteratorHelper(this.paths);try{for(e.s();!(t=e.n()).done;){t.value.draw()}}catch(t){e.e(t)}finally{e.f()}}},{key:"drawBackground",value:function(){this.invertedColors?this.p5.background(0):this.p5.background(255)}},{key:"buildTree",value:function(){this.tree.clear();var e=_createForOfIteratorHelper(this.paths);try{for(e.s();!(t=e.n()).done;){var t=t.value;this.tree.load(t.nodes)}}catch(t){e.e(t)}finally{e.f()}}},{key:"addPath",value:function(t){t.drawNodes=this.drawNodes,t.debugMode=this.debugMode,t.fillMode=this.fillMode,t.useBrownianMotion=this.useBrownianMotion,t.setInvertedColors(this.invertedColors),t.setTraceMode(this.traceMode),this.paths.push(t)}},{key:"addPaths",value:function(t){var e=_createForOfIteratorHelper(t);try{for(e.s();!(n=e.n()).done;){var n=n.value;this.addPath(n)}}catch(t){e.e(t)}finally{e.f()}}},{key:"addToHistory",value:function(){if(!this.paused){var t,e=_createForOfIteratorHelper(this.paths);try{for(e.s();!(t=e.n()).done;){t.value.addToHistory()}}catch(t){e.e(t)}finally{e.f()}}}},{key:"prunePaths",value:function(){for(var t=0;t<this.paths.length;t++)this.paths[t].nodes.length<=1&&this.paths.splice(t,1)}},{key:"export",value:function(){var t=document.createElementNS("http://www.w3.org/2000/svg","svg");t.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns","http://www.w3.org/2000/svg"),t.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink","http://www.w3.org/1999/xlink"),t.setAttribute("width",window.innerWidth),t.setAttribute("height",window.innerHeight),t.setAttribute("viewBox","0 0 "+window.innerWidth+" "+window.innerHeight);var e,n=_createForOfIteratorHelper(this.paths);try{for(n.s();!(e=n.n()).done;){var r=e.value;if(this.drawHistory){var i=_createForOfIteratorHelper(r.nodeHistory);try{for(i.s();!(o=i.n()).done;){var o=o.value;t.appendChild(this.createPathElFromNodes(o,r.isClosed))}}catch(t){i.e(t)}finally{i.f()}}t.appendChild(this.createPathElFromNodes(r.nodes),r.isClosed)}}catch(t){n.e(t)}finally{n.f()}var s=(new XMLSerializer).serializeToString(t),s=new Blob(['<?xml version="1.0" encoding="UTF-8" standalone="no"?>',s],{type:"image/svg+xml;"});h(s,"differential-growth-"+Date.now()+".svg")}},{key:"createPathElFromNodes",value:function(t,e){var n="",r=_createForOfIteratorHelper(t.entries());try{for(r.s();!(o=r.n()).done;){var i=_slicedToArray(o.value,2),o=i[0],i=i[1];n+=i.x+","+i.y,o<t.length-1&&(n+=" ")}}catch(t){r.e(t)}finally{r.f()}var s=a({type:"polyline",points:n});e&&(s+=" Z");e=document.createElementNS("http://www.w3.org/2000/svg","path");return e.setAttribute("d",s),e.setAttribute("style","fill: none; stroke: black; stroke-width: 1"),e}},{key:"clearPaths",value:function(){this.paths=[]}},{key:"pause",value:function(){this.paused=!0}},{key:"unpause",value:function(){this.paused=!1}},{key:"getDrawNodes",value:function(){return this.drawNodes}},{key:"getDebugMode",value:function(){return this.debugMode}},{key:"getFillMode",value:function(){return this.fillMode}},{key:"getDrawHistory",value:function(){return this.drawHistory}},{key:"getDrawBounds",value:function(){return this.showBounds}},{key:"setMinDistance",value:function(t){this.settings.MinDistance=t;var e,n=_createForOfIteratorHelper(this.paths);try{for(n.s();!(e=n.n()).done;){e.value.setMinDistance(t)}}catch(t){n.e(t)}finally{n.f()}}},{key:"setMaxDistance",value:function(t){this.settings.MaxDistance=t;var e,n=_createForOfIteratorHelper(this.paths);try{for(n.s();!(e=n.n()).done;){e.value.setMaxDistance(t)}}catch(t){n.e(t)}finally{n.f()}}},{key:"setRepulsionRadius",value:function(t){this.settings.RepulsionRadius=t;var e,n=_createForOfIteratorHelper(this.paths);try{for(n.s();!(e=n.n()).done;){e.value.setRepulsionRadius(t)}}catch(t){n.e(t)}finally{n.f()}}},{key:"setAttractionForce",value:function(t){this.settings.AttractionForce=t;var e,n=_createForOfIteratorHelper(this.paths);try{for(n.s();!(e=n.n()).done;){e.value.setAttractionForce(t)}}catch(t){n.e(t)}finally{n.f()}}},{key:"setRepulsionForce",value:function(t){this.settings.RepulsionForce=t;var e,n=_createForOfIteratorHelper(this.paths);try{for(n.s();!(e=n.n()).done;){e.value.setRepulsionForce(t)}}catch(t){n.e(t)}finally{n.f()}}},{key:"setAlignmentForce",value:function(t){this.settings.AlignmentForce=t;var e,n=_createForOfIteratorHelper(this.paths);try{for(n.s();!(e=n.n()).done;){e.value.setAlignmentForce(t)}}catch(t){n.e(t)}finally{n.f()}}},{key:"setDrawNodes",value:function(t){this.drawBackground();var e=_createForOfIteratorHelper(this.paths);try{for(e.s();!(n=e.n()).done;){var n=n.value;n.drawNodes=t,n.draw()}}catch(t){e.e(t)}finally{e.f()}this.drawNodes=t,this.settings.DrawNodes=t}},{key:"setDebugMode",value:function(t){this.drawBackground();var e=_createForOfIteratorHelper(this.paths);try{for(e.s();!(n=e.n()).done;){var n=n.value;n.debugMode=t,n.draw()}}catch(t){e.e(t)}finally{e.f()}this.debugMode=t,this.settings.DebugMode=t}},{key:"setFillMode",value:function(t){this.drawBackground();var e=_createForOfIteratorHelper(this.paths);try{for(e.s();!(n=e.n()).done;){var n=n.value;n.fillMode=t,n.draw()}}catch(t){e.e(t)}finally{e.f()}this.fillMode=t,this.settings.FillMode=t}},{key:"setDrawHistory",value:function(t){this.drawBackground();var e=_createForOfIteratorHelper(this.paths);try{for(e.s();!(n=e.n()).done;){var n=n.value;n.drawHistory=t,n.draw()}}catch(t){e.e(t)}finally{e.f()}this.drawHistory=t,this.settings.DrawHistory=t}},{key:"setTraceMode",value:function(t){this.traceMode=t,this.settings.TraceMode=t,this.drawBackground();var e,n=_createForOfIteratorHelper(this.paths);try{for(n.s();!(e=n.n()).done;){e.value.traceMode=t}}catch(t){n.e(t)}finally{n.f()}}},{key:"setInvertedColors",value:function(t){this.invertedColors=t,this.settings.InvertedColors=t,this.drawBackground();var e,n=_createForOfIteratorHelper(this.paths);try{for(n.s();!(e=n.n()).done;){e.value.invertedColors=t}}catch(t){n.e(t)}finally{n.f()}}},{key:"setDrawBounds",value:function(t){this.drawBackground();var e=_createForOfIteratorHelper(this.paths);try{for(e.s();!(n=e.n()).done;){var n=n.value;n.showBounds=t,n.draw()}}catch(t){e.e(t)}finally{e.f()}this.showBounds=t}},{key:"toggleDrawNodes",value:function(){this.setDrawNodes(!this.getDrawNodes())}},{key:"toggleTraceMode",value:function(){this.traceMode=!this.traceMode,this.drawBackground();var e=_createForOfIteratorHelper(this.paths);try{for(e.s();!(t=e.n()).done;){var t=t.value;t.toggleTraceMode(),t.draw()}}catch(t){e.e(t)}finally{e.f()}}},{key:"toggleInvertedColors",value:function(){this.invertedColors=!this.invertedColors,this.drawBackground();var e=_createForOfIteratorHelper(this.paths);try{for(e.s();!(t=e.n()).done;){var t=t.value;t.toggleInvertedColors(),t.draw()}}catch(t){e.e(t)}finally{e.f()}}},{key:"toggleDebugMode",value:function(){this.setDebugMode(!this.getDebugMode())}},{key:"toggleFillMode",value:function(){this.setFillMode(!this.getFillMode())}},{key:"toggleDrawHistory",value:function(){this.setDrawHistory(!this.getDrawHistory())}},{key:"toggleDrawBounds",value:function(){this.setDrawBounds(!this.getDrawBounds())}},{key:"togglePause",value:function(){this.paused?this.unpause():this.pause()}}]),i}();e.exports=t},{"./Defaults":2,"./node_modules/file-saver":6,"./node_modules/rbush":10,"./node_modules/svg-points/":11}],6:[function(t,r,i){(function(t){var e,n;e=this,n=function(){function h(t,e,n){var r=new XMLHttpRequest;r.open("GET",t),r.responseType="blob",r.onload=function(){i(r.response,e,n)},r.onerror=function(){console.error("could not download file")},r.send()}function s(t){var e=new XMLHttpRequest;return e.open("HEAD",t,!1),e.send(),200<=e.status&&e.status<=299}function a(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(t){var n=document.createEvent("MouseEvents");n.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(n)}}var u="object"==("undefined"==typeof window?"undefined":_typeof2(window))&&window.window===window?window:"object"==("undefined"==typeof self?"undefined":_typeof2(self))&&self.self===self?self:"object"==_typeof2(t)&&t.global===t?t:void 0,i=u.saveAs||("object"!=("undefined"==typeof window?"undefined":_typeof2(window))||window!==u?function(){}:"download"in HTMLAnchorElement.prototype?function(t,e,n){var r=u.URL||u.webkitURL,i=document.createElement("a");e=e||t.name||"download",i.download=e,i.rel="noopener","string"==typeof t?(i.href=t,i.origin===location.origin?a(i):s(i.href)?h(t,e,n):a(i,i.target="_blank")):(i.href=r.createObjectURL(t),setTimeout(function(){r.revokeObjectURL(i.href)},4e4),setTimeout(function(){a(i)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,n){var r,i,o;e=e||t.name||"download","string"!=typeof t?navigator.msSaveOrOpenBlob((i=t,void 0===(o=n)?o={autoBom:!1}:"object"!=_typeof2(o)&&(console.warn("Deprecated: Expected third argument to be a object"),o={autoBom:!o}),o.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\ufeff",i],{type:i.type}):i),e):s(t)?h(t,e,n):((r=document.createElement("a")).href=t,r.target="_blank",setTimeout(function(){a(r)}))}:function(t,e,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),"string"==typeof t)return h(t,e,n);var i,o,s,e="application/octet-stream"===t.type,n=/constructor/i.test(u.HTMLElement)||u.safari,a=/CriOS\/[\d]+/.test(navigator.userAgent);(a||e&&n)&&"object"==("undefined"==typeof FileReader?"undefined":_typeof2(FileReader))?((i=new FileReader).onloadend=function(){var t=i.result,t=a?t:t.replace(/^data:[^;]*;/,"data:attachment/file;");r?r.location.href=t:location=t,r=null},i.readAsDataURL(t)):(o=u.URL||u.webkitURL,s=o.createObjectURL(t),r?r.location=s:location.href=s,r=null,setTimeout(function(){o.revokeObjectURL(s)},4e4))});u.saveAs=i.saveAs=i,void 0!==r&&(r.exports=i)},"function"==typeof define&&define.amd?define([],n):void 0!==i?n():(n(),e.FileSaver={})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],7:[function(t,e,n){e.exports=function(t,e){for(var n=t[0],r=t[1],i=!1,o=0,s=e.length-1;o<e.length;s=o++){var a=e[o][0],h=e[o][1],u=e[s][0],l=e[s][1];r<h!=r<l&&n<(u-a)*(r-h)/(l-h)+a&&(i=!i)}return i}},{}],8:[function(t,e,n){var r,i;r=this,i=function(){function p(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function o(t,e){return t<e?-1:e<t?1:0}return function(t,e,n,r,i){!function t(e,n,r,i,o){for(;r<i;){var s,a,h,u,l;600<i-r&&(s=i-r+1,a=n-r+1,u=Math.log(s),h=.5*Math.exp(2*u/3),l=.5*Math.sqrt(u*h*(s-h)/s)*(a-s/2<0?-1:1),u=Math.max(r,Math.floor(n-a*h/s+l)),l=Math.min(i,Math.floor(n+(s-a)*h/s+l)),t(e,n,u,l,o));var c=e[n],d=r,f=i;for(p(e,r,n),0<o(e[i],c)&&p(e,r,i);d<f;){for(p(e,d,f),d++,f--;o(e[d],c)<0;)d++;for(;0<o(e[f],c);)f--}0===o(e[r],c)?p(e,r,f):p(e,++f,i),f<=n&&(r=f+1),n<=f&&(i=f-1)}}(t,e,n||0,r||t.length-1,i||o)}},"object"===_typeof2(n)&&void 0!==e?e.exports=i():"function"==typeof define&&define.amd?define(i):r.quickselect=i()},{}],9:[function(t,e,n){var p=t("tinyqueue");function r(t,e,n,r,i,o){for(var s,a,h,u,l=t.data,c=[],d=t.toBBox,f=new p(null,y);l;){for(s=0;s<l.children.length;s++)a=l.children[s],h=function(t,e,n){t=v(t,n.minX,n.maxX),n=v(e,n.minY,n.maxY);return t*t+n*n}(e,n,l.leaf?d(a):a),(!o||h<=o)&&f.push({node:a,isItem:l.leaf,dist:h});for(;f.length&&f.peek().isItem;)if(u=f.pop().node,i&&!i(u)||c.push(u),r&&c.length===r)return c;l=(l=f.pop())&&l.node}return c}function y(t,e){return t.dist-e.dist}function v(t,e,n){return t<e?e-t:t<=n?0:t-n}e.exports=r,e.exports.default=r},{tinyqueue:15}],10:[function(t,e,n){e.exports=r,e.exports.default=r;var a=t("quickselect");function r(t,e){if(!(this instanceof r))return new r(t,e);this._maxEntries=Math.max(4,t||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),e&&this._initFormat(e),this.clear()}function f(t,e){p(t,0,t.children.length,e,t)}function p(t,e,n,r,i){(i=i||v(null)).minX=1/0,i.minY=1/0,i.maxX=-1/0,i.maxY=-1/0;for(var o,s=e;s<n;s++)o=t.children[s],l(i,t.leaf?r(o):o);return i}function l(t,e){return t.minX=Math.min(t.minX,e.minX),t.minY=Math.min(t.minY,e.minY),t.maxX=Math.max(t.maxX,e.maxX),t.maxY=Math.max(t.maxY,e.maxY),t}function o(t,e){return t.minX-e.minX}function s(t,e){return t.minY-e.minY}function y(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function c(t){return t.maxX-t.minX+(t.maxY-t.minY)}function d(t,e){return t.minX<=e.minX&&t.minY<=e.minY&&e.maxX<=t.maxX&&e.maxY<=t.maxY}function u(t,e){return e.minX<=t.maxX&&e.minY<=t.maxY&&e.maxX>=t.minX&&e.maxY>=t.minY}function v(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function g(t,e,n,r,i){for(var o,s=[e,n];s.length;)(n=s.pop())-(e=s.pop())<=r||(o=e+Math.ceil((n-e)/r/2)*r,a(t,o,e,n,i),s.push(e,o,o,n))}r.prototype={all:function(){return this._all(this.data,[])},search:function(t){var e=this.data,n=[],r=this.toBBox;if(!u(t,e))return n;for(var i,o,s,a,h=[];e;){for(i=0,o=e.children.length;i<o;i++)s=e.children[i],u(t,a=e.leaf?r(s):s)&&(e.leaf?n.push(s):d(t,a)?this._all(s,n):h.push(s));e=h.pop()}return n},collides:function(t){var e=this.data,n=this.toBBox;if(!u(t,e))return!1;for(var r,i,o,s,a=[];e;){for(r=0,i=e.children.length;r<i;r++)if(o=e.children[r],u(t,s=e.leaf?n(o):o)){if(e.leaf||d(t,s))return!0;a.push(o)}e=a.pop()}return!1},load:function(t){if(!t||!t.length)return this;if(t.length<this._minEntries){for(var e=0,n=t.length;e<n;e++)this.insert(t[e]);return this}var r,i=this._build(t.slice(),0,t.length-1,0);return this.data.children.length?this.data.height===i.height?this._splitRoot(this.data,i):(this.data.height<i.height&&(r=this.data,this.data=i,i=r),this._insert(i,this.data.height-i.height-1,!0)):this.data=i,this},insert:function(t){return t&&this._insert(t,this.data.height-1),this},clear:function(){return this.data=v([]),this},remove:function(t,e){if(!t)return this;for(var n,r,i,o,s=this.data,a=this.toBBox(t),h=[],u=[];s||h.length;){if(s||(s=h.pop(),r=h[h.length-1],n=u.pop(),o=!0),s.leaf&&-1!==(i=function(t,e,n){if(!n)return e.indexOf(t);for(var r=0;r<e.length;r++)if(n(t,e[r]))return r;return-1}(t,s.children,e)))return s.children.splice(i,1),h.push(s),this._condense(h),this;o||s.leaf||!d(s,a)?r?(n++,s=r.children[n],o=!1):s=null:(h.push(s),u.push(n),n=0,s=(r=s).children[0])}return this},toBBox:function(t){return t},compareMinX:o,compareMinY:s,toJSON:function(){return this.data},fromJSON:function(t){return this.data=t,this},_all:function(t,e){for(var n=[];t;)t.leaf?e.push.apply(e,t.children):n.push.apply(n,t.children),t=n.pop();return e},_build:function(t,e,n,r){var i,o=n-e+1,s=this._maxEntries;if(o<=s)return f(i=v(t.slice(e,n+1)),this.toBBox),i;r||(r=Math.ceil(Math.log(o)/Math.log(s)),s=Math.ceil(o/Math.pow(s,r-1))),(i=v([])).leaf=!1,i.height=r;var a,h,u,l,c=Math.ceil(o/s),d=c*Math.ceil(Math.sqrt(s));for(g(t,e,n,d,this.compareMinX),a=e;a<=n;a+=d)for(g(t,a,u=Math.min(a+d-1,n),c,this.compareMinY),h=a;h<=u;h+=c)l=Math.min(h+c-1,u),i.children.push(this._build(t,h,l,r-1));return f(i,this.toBBox),i},_chooseSubtree:function(t,e,n,r){for(var i,o,s,a,h,u,l,c,d;r.push(e),!e.leaf&&r.length-1!==n;){for(u=l=1/0,i=0,o=e.children.length;i<o;i++)h=y(s=e.children[i]),c=t,d=s,(c=(Math.max(d.maxX,c.maxX)-Math.min(d.minX,c.minX))*(Math.max(d.maxY,c.maxY)-Math.min(d.minY,c.minY))-h)<l?(l=c,u=h<u?h:u,a=s):c===l&&h<u&&(u=h,a=s);e=a||e.children[0]}return e},_insert:function(t,e,n){var r=this.toBBox,n=n?t:r(t),i=[],r=this._chooseSubtree(n,this.data,e,i);for(r.children.push(t),l(r,n);0<=e&&i[e].children.length>this._maxEntries;)this._split(i,e),e--;this._adjustParentBBoxes(n,i,e)},_split:function(t,e){var n=t[e],r=n.children.length,i=this._minEntries;this._chooseSplitAxis(n,i,r);r=this._chooseSplitIndex(n,i,r),r=v(n.children.splice(r,n.children.length-r));r.height=n.height,r.leaf=n.leaf,f(n,this.toBBox),f(r,this.toBBox),e?t[e-1].children.push(r):this._splitRoot(n,r)},_splitRoot:function(t,e){this.data=v([t,e]),this.data.height=t.height+1,this.data.leaf=!1,f(this.data,this.toBBox)},_chooseSplitIndex:function(t,e,n){for(var r,i,o,s,a,h,u,l,c,d=o=1/0,f=e;f<=n-e;f++)r=p(t,0,f,this.toBBox),i=p(t,f,n,this.toBBox),a=r,h=i,c=l=u=void 0,u=Math.max(a.minX,h.minX),l=Math.max(a.minY,h.minY),c=Math.min(a.maxX,h.maxX),h=Math.min(a.maxY,h.maxY),l=Math.max(0,c-u)*Math.max(0,h-l),i=y(r)+y(i),l<d?(d=l,s=f,o=i<o?i:o):l===d&&i<o&&(o=i,s=f);return s},_chooseSplitAxis:function(t,e,n){var r=t.leaf?this.compareMinX:o,i=t.leaf?this.compareMinY:s;this._allDistMargin(t,e,n,r)<this._allDistMargin(t,e,n,i)&&t.children.sort(r)},_allDistMargin:function(t,e,n,r){t.children.sort(r);for(var i,o=this.toBBox,s=p(t,0,e,o),a=p(t,n-e,n,o),h=c(s)+c(a),u=e;u<n-e;u++)i=t.children[u],l(s,t.leaf?o(i):i),h+=c(s);for(u=n-e-1;e<=u;u--)i=t.children[u],l(a,t.leaf?o(i):i),h+=c(a);return h},_adjustParentBBoxes:function(t,e,n){for(var r=n;0<=r;r--)l(e[r],t)},_condense:function(t){for(var e,n=t.length-1;0<=n;n--)0===t[n].children.length?0<n?(e=t[n-1].children).splice(e.indexOf(t[n]),1):this.clear():f(t[n],this.toBBox)},_initFormat:function(t){var e=["return a"," - b",";"];this.compareMinX=new Function("a","b",e.join(t[0])),this.compareMinY=new Function("a","b",e.join(t[1])),this.toBBox=new Function("a","return {minX: a"+t[0]+", minY: a"+t[1]+", maxX: a"+t[2]+", maxY: a"+t[3]+"};")}}},{quickselect:8}],11:[function(t,e,n){Object.defineProperty(n,"__esModule",{value:!0}),n.valid=n.toPoints=n.toPath=void 0;var r=o(t("./toPath")),i=o(t("./toPoints")),t=o(t("./valid"));function o(t){return t&&t.__esModule?t:{default:t}}n.toPath=r.default,n.toPoints=i.default,n.valid=t.default},{"./toPath":12,"./toPoints":13,"./valid":14}],12:[function(t,e,n){Object.defineProperty(n,"__esModule",{value:!0});var r,i=t("./toPoints"),o=(r=i)&&r.__esModule?r:{default:r};function s(t){var e="",n=0,r=void 0,i=!0,o=!1,s=void 0;try{for(var a=t[Symbol.iterator]();!(i=(v=a.next()).done);i=!0){var h=v.value,u=h.curve,l=void 0!==u&&u,c=h.moveTo,d=h.x,f=h.y,p=0===n||c,y=n===t.length-1||t[n+1].moveTo,v=0===n?null:t[n-1];if(p)r=h,y||(e+="M"+d+","+f);else if(l){switch(l.type){case"arc":var u=h.curve,g=u.largeArcFlag,c=void 0===g?0:g,p=u.rx,l=u.ry,g=u.sweepFlag,g=void 0===g?0:g,u=u.xAxisRotation;e+="A"+p+","+l+","+(void 0===u?0:u)+","+c+","+g+","+d+","+f;break;case"cubic":g=h.curve;e+="C"+g.x1+","+g.y1+","+g.x2+","+g.y2+","+d+","+f;break;case"quadratic":h=h.curve;e+="Q"+h.x1+","+h.y1+","+d+","+f}y&&d===r.x&&f===r.y&&(e+="Z")}else y&&d===r.x&&f===r.y?e+="Z":d!==v.x&&f!==v.y?e+="L"+d+","+f:d!==v.x?e+="H"+d:f!==v.y&&(e+="V"+f);n++}}catch(t){o=!0,s=t}finally{try{!i&&a.return&&a.return()}finally{if(o)throw s}}return e}n.default=function(t){var e=Array.isArray(t),n=e?Array.isArray(t[0]):"g"===t.type,t=e?t:n?t.shapes.map(function(t){return(0,o.default)(t)}):(0,o.default)(t);return n?t.map(s):s(t)}},{"./toPoints":13}],13:[function(t,e,n){Object.defineProperty(n,"__esModule",{value:!0});var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n,r=arguments[e];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t};function i(t){var e=t.type,t=function(t,e){var n,r={};for(n in t)0<=e.indexOf(n)||Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n]);return r}(t,["type"]);switch(e){case"circle":return o(t);case"ellipse":return s(t);case"line":return a(t);case"path":return h(t);case"polygon":return u(t);case"polyline":return l(t);case"rect":return d(t);case"g":return y(t);default:throw new Error("Not a valid shape type")}}var o=function(t){var e=t.cx,n=t.cy,t=t.r;return[{x:e,y:n-t,moveTo:!0},{x:e,y:n+t,curve:{type:"arc",rx:t,ry:t,sweepFlag:1}},{x:e,y:n-t,curve:{type:"arc",rx:t,ry:t,sweepFlag:1}}]},s=function(t){var e=t.cx,n=t.cy,r=t.rx,t=t.ry;return[{x:e,y:n-t,moveTo:!0},{x:e,y:n+t,curve:{type:"arc",rx:r,ry:t,sweepFlag:1}},{x:e,y:n-t,curve:{type:"arc",rx:r,ry:t,sweepFlag:1}}]},a=function(t){var e=t.x1,n=t.x2;return[{x:e,y:t.y1,moveTo:!0},{x:n,y:t.y2}]},O=/[MmLlHhVvCcSsQqTtAaZz]/g,B={A:7,C:6,H:1,L:2,M:2,Q:4,S:4,T:2,V:1,Z:0},A=["a","c","h","l","m","q","s","t","v"],H=["xAxisRotation","largeArcFlag","sweepFlag"],h=function(t){for(var t=t.d,e=t.match(O),n=t.split(O).map(function(t){return t.replace(/[0-9]+-/g,function(t){return t.slice(0,-1)+" -"})}).map(function(t){return t.replace(/\.[0-9]+/g,function(t){return t+" "})}).map(function(t){return t.trim()}).filter(function(t){return 0<t.length}).map(function(t){return t.split(/[ ,]+/).map(parseFloat).filter(function(t){return!isNaN(t)})}),r=[],i=void 0,o=0,s=e.length;o<s;o++){var a=e[o],h=a.toUpperCase(),u=B[h],l=(a=a,-1!==A.indexOf(a));if(0<u)for(var c=n.shift(),d=c.length/u,f=0;f<d;f++){var p=r[r.length-1]||{x:0,y:0};switch(h){case"M":var y=(l?p.x:0)+c.shift(),v=(l?p.y:0)+c.shift();0===f?(i={x:y,y:v},r.push({x:y,y:v,moveTo:!0})):r.push({x:y,y:v});break;case"L":r.push({x:(l?p.x:0)+c.shift(),y:(l?p.y:0)+c.shift()});break;case"H":r.push({x:(l?p.x:0)+c.shift(),y:p.y});break;case"V":r.push({x:p.x,y:(l?p.y:0)+c.shift()});break;case"A":r.push({curve:{type:"arc",rx:c.shift(),ry:c.shift(),xAxisRotation:c.shift(),largeArcFlag:c.shift(),sweepFlag:c.shift()},x:(l?p.x:0)+c.shift(),y:(l?p.y:0)+c.shift()});var g=!0,x=!1,m=void 0;try{for(var w=H[Symbol.iterator]();!(g=(b=w.next()).done);g=!0){var b=b.value;0===r[r.length-1].curve[b]&&delete r[r.length-1].curve[b]}}catch(t){x=!0,m=t}finally{try{!g&&w.return&&w.return()}finally{if(x)throw m}}break;case"C":r.push({curve:{type:"cubic",x1:(l?p.x:0)+c.shift(),y1:(l?p.y:0)+c.shift(),x2:(l?p.x:0)+c.shift(),y2:(l?p.y:0)+c.shift()},x:(l?p.x:0)+c.shift(),y:(l?p.y:0)+c.shift()});break;case"S":var M=(l?p.x:0)+c.shift(),k=(l?p.y:0)+c.shift(),_=(l?p.x:0)+c.shift(),N=(l?p.y:0)+c.shift(),v={},F=void 0,C=void 0,C=p.curve&&"cubic"===p.curve.type?(v.x=Math.abs(p.x-p.curve.x2),v.y=Math.abs(p.y-p.curve.y2),F=p.x<p.curve.x2?p.x-v.x:p.x+v.x,p.y<p.curve.y2?p.y-v.y:p.y+v.y):(v.x=Math.abs(_-M),v.y=Math.abs(N-k),F=p.x,p.y);r.push({curve:{type:"cubic",x1:F,y1:C,x2:M,y2:k},x:_,y:N});break;case"Q":r.push({curve:{type:"quadratic",x1:(l?p.x:0)+c.shift(),y1:(l?p.y:0)+c.shift()},x:(l?p.x:0)+c.shift(),y:(l?p.y:0)+c.shift()});break;case"T":F=(l?p.x:0)+c.shift(),C=(l?p.y:0)+c.shift(),M=void 0,k=void 0;k=p.curve&&"quadratic"===p.curve.type?(_=Math.abs(p.x-p.curve.x1),N=Math.abs(p.y-p.curve.y1),M=p.x<p.curve.x1?p.x-_:p.x+_,p.y<p.curve.y1?p.y-N:p.y+N):(M=p.x,p.y),r.push({curve:{type:"quadratic",x1:M,y1:k},x:F,y:C})}}else{u=r[r.length-1]||{x:0,y:0};u.x===i.x&&u.y===i.y||r.push({x:i.x,y:i.y})}}return r},u=function(t){t=t.points;return c({closed:!0,points:t})},l=function(t){t=t.points;return c({closed:!1,points:t})},c=function(t){var e=t.closed,t=t.points.split(/[\s,]+/).map(function(t){return parseFloat(t)}).reduce(function(t,e,n){return n%2==0?t.push({x:e}):t[(n-1)/2].y=e,t},[]);return e&&t.push(r({},t[0])),t[0].moveTo=!0,t},d=function(t){var e=t.height,n=t.rx,r=t.ry,i=t.width,o=t.x,t=t.y;return n||r?p({height:e,rx:n||r,ry:r||n,width:i,x:o,y:t}):f({height:e,width:i,x:o,y:t})},f=function(t){var e=t.height,n=t.width,r=t.x,t=t.y;return[{x:r,y:t,moveTo:!0},{x:r+n,y:t},{x:r+n,y:t+e},{x:r,y:t+e},{x:r,y:t}]},p=function(t){var e=t.height,n=t.rx,r=t.ry,i=t.width,o=t.x,s=t.y,t={type:"arc",rx:n,ry:r,sweepFlag:1};return[{x:o+n,y:s,moveTo:!0},{x:o+i-n,y:s},{x:o+i,y:s+r,curve:t},{x:o+i,y:s+e-r},{x:o+i-n,y:s+e,curve:t},{x:o+n,y:s+e},{x:o,y:s+e-r,curve:t},{x:o,y:s+r},{x:o+n,y:s,curve:t}]},y=function(t){return t.shapes.map(i)};n.default=i},{}],14:[function(t,e,n){Object.defineProperty(n,"__esModule",{value:!0});function r(i){var t=a(i),o=[];if(t.map(function(t){var e=t.match,n=t.prop,r=t.required,t=t.type;void 0===i[n]?r&&o.push(n+" prop is required"+("type"===n?"":" on a "+i.type)):(void 0!==t&&("array"===t?Array.isArray(i[n])||o.push(n+" prop must be of type array"):s(i[n])!==t&&o.push(n+" prop must be of type "+t)),Array.isArray(e)&&-1===e.indexOf(i[n])&&o.push(n+" prop must be one of "+e.join(", ")))}),"g"===i.type&&Array.isArray(i.shapes)){t=i.shapes.map(r);return[].concat.apply(o,t)}return o}var s="function"==typeof Symbol&&"symbol"===_typeof2(Symbol.iterator)?function(t){return _typeof2(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":_typeof2(t)},a=function(t){var e=[{match:["circle","ellipse","line","path","polygon","polyline","rect","g"],prop:"type",required:!0,type:"string"}];switch(t.type){case"circle":e.push({prop:"cx",required:!0,type:"number"}),e.push({prop:"cy",required:!0,type:"number"}),e.push({prop:"r",required:!0,type:"number"});break;case"ellipse":e.push({prop:"cx",required:!0,type:"number"}),e.push({prop:"cy",required:!0,type:"number"}),e.push({prop:"rx",required:!0,type:"number"}),e.push({prop:"ry",required:!0,type:"number"});break;case"line":e.push({prop:"x1",required:!0,type:"number"}),e.push({prop:"x2",required:!0,type:"number"}),e.push({prop:"y1",required:!0,type:"number"}),e.push({prop:"y2",required:!0,type:"number"});break;case"path":e.push({prop:"d",required:!0,type:"string"});break;case"polygon":case"polyline":e.push({prop:"points",required:!0,type:"string"});break;case"rect":e.push({prop:"height",required:!0,type:"number"}),e.push({prop:"rx",type:"number"}),e.push({prop:"ry",type:"number"}),e.push({prop:"width",required:!0,type:"number"}),e.push({prop:"x",required:!0,type:"number"}),e.push({prop:"y",required:!0,type:"number"});break;case"g":e.push({prop:"shapes",required:!0,type:"array"})}return e};n.default=function(t){t=r(t);return{errors:t,valid:0===t.length}}},{}],15:[function(t,e,n){function r(t,e){if(!(this instanceof r))return new r(t,e);if(this.data=t||[],this.length=this.data.length,this.compare=e||i,0<this.length)for(var n=(this.length>>1)-1;0<=n;n--)this._down(n)}function i(t,e){return t<e?-1:e<t?1:0}e.exports=r,(e.exports.default=r).prototype={push:function(t){this.data.push(t),this.length++,this._up(this.length-1)},pop:function(){if(0!==this.length){var t=this.data[0];return this.length--,0<this.length&&(this.data[0]=this.data[this.length],this._down(0)),this.data.pop(),t}},peek:function(){return this.data[0]},_up:function(t){for(var e=this.data,n=this.compare,r=e[t];0<t;){var i=t-1>>1,o=e[i];if(0<=n(r,o))break;e[t]=o,t=i}e[t]=r},_down:function(t){for(var e=this.data,n=this.compare,r=this.length>>1,i=e[t];t<r;){var o=1+(t<<1),s=o+1,a=e[o];if(s<this.length&&n(e[s],a)<0&&(a=e[o=s]),0<=n(a,i))break;e[t]=a,t=o}e[t]=i}}},{}],16:[function(t,a,e){!function t(e,n,r){var i=function(t){return"[object Array]"===Object.prototype.toString.call(t)};function o(t,e){if(!(this instanceof o))return new o(t,e);i(t)?(e=t[1],t=t[0]):"object"===_typeof2(t)&&t&&(e=t.y,t=t.x),this.x=o.clean(t||0),this.y=o.clean(e||0)}o.prototype={change:function(t){if("function"==typeof t)this.observers?this.observers.push(t):this.observers=[t];else if(this.observers&&this.observers.length)for(var e=this.observers.length-1;0<=e;e--)this.observers[e](this,t);return this},ignore:function(t){if(this.observers)if(t)for(var e=this.observers,n=e.length;n--;)e[n]===t&&e.splice(n,1);else this.observers=[];return this},set:function(t,e,n){if("number"!=typeof t&&(n=e,e=t.y,t=t.x),this.x===t&&this.y===e)return this;var r=null;return!1!==n&&this.observers&&this.observers.length&&(r=this.clone()),this.x=o.clean(t),this.y=o.clean(e),!1!==n?this.change(r):void 0},zero:function(){return this.set(0,0)},clone:function(){return new this.constructor(this.x,this.y)},negate:function(t){return t?new this.constructor(-this.x,-this.y):this.set(-this.x,-this.y)},add:function(t,e,n){return"number"!=typeof t&&(n=e,t=i(t)?(e=t[1],t[0]):(e=t.y,t.x)),t+=this.x,e+=this.y,n?new this.constructor(t,e):this.set(t,e)},subtract:function(t,e,n){return"number"!=typeof t&&(n=e,t=i(t)?(e=t[1],t[0]):(e=t.y,t.x)),t=this.x-t,e=this.y-e,n?new this.constructor(t,e):this.set(t,e)},multiply:function(t,e,n){return"number"!=typeof t?(n=e,t=i(t)?(e=t[1],t[0]):(e=t.y,t.x)):"number"!=typeof e&&(n=e,e=t),t*=this.x,e*=this.y,n?new this.constructor(t,e):this.set(t,e)},rotate:function(t,e,n){var r=this.x,i=this.y,o=Math.cos(t),s=Math.sin(t),t=o*r-(e=e?-1:1)*s*i,i=e*s*r+o*i;return n?new this.constructor(t,i):this.set(t,i)},length:function(){var t=this.x,e=this.y;return Math.sqrt(t*t+e*e)},lengthSquared:function(){var t=this.x,e=this.y;return t*t+e*e},distance:function(t){var e=this.x-t.x,t=this.y-t.y;return Math.sqrt(e*e+t*t)},nearest:function(t){for(var e,n=Number.MAX_VALUE,r=null,i=t.length-1;0<=i;i--)(e=this.distance(t[i]))<=n&&(n=e,r=t[i]);return r},normalize:function(t){var e=this.length(),e=e<Number.MIN_VALUE?0:1/e;return t?new this.constructor(this.x*e,this.y*e):this.set(this.x*e,this.y*e)},equal:function(t,e){return"number"!=typeof t&&(t=i(t)?(e=t[1],t[0]):(e=t.y,t.x)),o.clean(t)===this.x&&o.clean(e)===this.y},abs:function(t){var e=Math.abs(this.x),n=Math.abs(this.y);return t?new this.constructor(e,n):this.set(e,n)},min:function(t,e){var n=this.x,r=this.y,i=t.x,t=t.y,i=n<i?n:i,t=r<t?r:t;return e?new this.constructor(i,t):this.set(i,t)},max:function(t,e){var n=this.x,r=this.y,i=t.x,t=t.y,i=i<n?n:i,t=t<r?r:t;return e?new this.constructor(i,t):this.set(i,t)},clamp:function(t,e,n){t=this.min(e,!0).max(t);return n?t:this.set(t.x,t.y)},lerp:function(t,e,n){return this.add(t.subtract(this,!0).multiply(e),n)},skew:function(t){return t?new this.constructor(-this.y,this.x):this.set(-this.y,this.x)},dot:function(t){return o.clean(this.x*t.x+t.y*this.y)},perpDot:function(t){return o.clean(this.x*t.y-this.y*t.x)},angleTo:function(t){return Math.atan2(this.perpDot(t),this.dot(t))},divide:function(t,e,n){if("number"!=typeof t?(n=e,t=i(t)?(e=t[1],t[0]):(e=t.y,t.x)):"number"!=typeof e&&(n=e,e=t),0===t||0===e)throw new Error("division by zero");if(isNaN(t)||isNaN(e))throw new Error("NaN detected");return n?new this.constructor(this.x/t,this.y/e):this.set(this.x/t,this.y/e)},isPointOnLine:function(t,e){return(t.y-this.y)*(t.x-e.x)==(t.y-e.y)*(t.x-this.x)},toArray:function(){return[this.x,this.y]},fromArray:function(t){return this.set(t[0],t[1])},toJSON:function(){return{x:this.x,y:this.y}},toString:function(){return"("+this.x+", "+this.y+")"},constructor:o},o.fromArray=function(t,e){return new(e||o)(t[0],t[1])},o.precision=n||8;var s=Math.pow(10,o.precision);return o.clean=e||function(t){if(isNaN(t))throw new Error("NaN detected");if(!isFinite(t))throw new Error("Infinity detected");return Math.round(t)===t?t:Math.round(t*s)/s},o.inject=t,e||(o.fast=t(function(t){return t}),void 0!==a&&"object"==_typeof2(a.exports)?a.exports=o:window.Vec2=window.Vec2||o),o}()},{}],17:[function(t,e,n){e.exports={MinDistance:1,MaxDistance:5,RepulsionRadius:10,AttractionForce:.2,RepulsionForce:.6,AlignmentForce:.55,NodeInjectionInterval:100,DrawNodes:!1,TraceMode:!1,InvertedColors:!1,DebugMode:!1,FillMode:!1,DrawHistory:!1}},{}],18:[function(t,e,n){var c,d=t("../../../core/Node"),f=t("../../../core/Path"),r=t("../../../core/World"),p=t("./Settings"),a=t("../../../node_modules/polygon-overlap"),i=0;new p5(function(l){function t(){l.noFill(),c.invertedColors?l.stroke(255):l.stroke(0),l.rect(window.innerWidth/2,window.innerHeight/2,800,800)}function e(t){switch(c.clearPaths(),i=t){case 0:n(3);break;case 1:n(4);break;case 2:n(30);break;case 3:n();break;case 4:!function(){for(var t=((Math.sqrt(5)+1)/2-1)*(2*Math.PI),e=1;e<300;e++){var n=e*t,r=200*(e/300),i=1.5*Math.cos(n)*r,o=1.5*Math.sin(n)*r,s=[];if(50<Math.sqrt(i*i+o*o)){for(var a=0;a<10;a++){var h=2*Math.PI*a/10,u=Math.floor(5*Math.cos(h)),h=Math.floor(5*Math.sin(h));s.push(new d(l,window.innerWidth/2+i+u,window.innerHeight/2+o+h,p))}c.addPath(new f(l,s,p,!0))}}}()}c.drawBackground(),c.draw(),c.pause(),setTimeout(function(){c.unpause()},1e3)}function n(t){for(var e,n=0<arguments.length&&void 0!==t?t:-1,r=n,i=0;i<5e3;i++){-1==n&&5==(r=Math.round(l.random(3,5)))&&(r=30);var o=function(t,e){for(var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,r=[],i=0;i<t;i++){var o=2*Math.PI*i/t+l.radians(n),s=Math.floor(e*Math.cos(o)),o=Math.floor(e*Math.sin(o));r.push(new d(l,window.innerWidth/2+s,window.innerHeight/2+o,p))}var a=new f(l,r,p,!0);return a.moveTo(l.random(-300,300),l.random(-300,300)),a}(r,l.random(10,200),e);!function(t){var e=!1;if(c.paths&&0<c.paths.length){var n=_createForOfIteratorHelper(c.paths);try{for(n.s();!(r=n.n()).done;){var r=r.value;a(t,s(r))&&(e=!0)}}catch(t){n.e(t)}finally{n.f()}}return e}(s(o))&&c.addPath(o)}}function s(t){var e=[],n=_createForOfIteratorHelper(t.nodes);try{for(n.s();!(r=n.n()).done;){var r=r.value;e.push([r.x,r.y])}}catch(t){n.e(t)}finally{n.f()}return e}l.setup=function(){l.createCanvas(window.innerWidth,window.innerHeight),l.colorMode(l.HSB,255),l.rectMode(l.CENTER),c=new r(l,p),e(i)},l.draw=function(){c.iterate(),c.draw(),t()},l.keyReleased=function(){switch(l.key){case"1":e(0);break;case"2":e(1);break;case"3":e(2);break;case"4":e(3);break;case"5":e(4);break;case"t":c.toggleTraceMode();break;case"n":c.toggleDrawNodes();break;case"r":e(i);break;case" ":c.paused=!c.paused;break;case"i":c.toggleInvertedColors(),t();break;case"d":c.toggleDebugMode();break;case"f":c.toggleFillMode();break;case"h":c.toggleDrawHistory();break;case"s":c.export()}}})},{"../../../core/Node":3,"../../../core/Path":4,"../../../core/World":5,"../../../node_modules/polygon-overlap":21,"./Settings":17}],19:[function(t,e,n){function d(t,e,n,r,i,o){return(t<=i||n<=i)&&(i<=t||i<=n)&&(e<=o||r<=o)&&(o<=e||o<=r)}function f(t,e,n,r,i,o){r=(i-t)*(r-e),e=(n-t)*(o-e);return r<e?-1:e<r?1:0}void 0!==e&&e.exports&&(e.exports=function(t,e,n,r,i,o,s,a){var h=f(i,o,s,a,t,e),u=f(i,o,s,a,n,r),l=f(t,e,n,r,i,o),c=f(t,e,n,r,s,a);return(0<h&&u<0||h<0&&0<u)&&(0<l&&c<0||l<0&&0<c)||0===h&&d(i,o,s,a,t,e)||0===u&&d(i,o,s,a,n,r)||0===l&&d(t,e,n,r,i,o)||0===c&&d(t,e,n,r,s,a)})},{}],20:[function(t,e,n){void 0!==e&&e.exports&&(e.exports=function(t,e){for(var n=!1,r=e.length,i=0,o=r-1;i<r;o=i++)e[i][1]>t[1]!=e[o][1]>t[1]&&t[0]<(e[o][0]-e[i][0])*(t[1]-e[i][1])/(e[o][1]-e[i][1])+e[i][0]&&(n=!n);return n})},{}],21:[function(t,e,n){var i=t("lines-intersect"),r=t("point-inside-polygon");void 0!==e&&e.exports&&(e.exports=function(t,e){return!!function(t,e){for(var n=0;n<t.length;n+=1)if(r(t[n],e))return 1;for(n=0;n<e.length;n+=1)if(r(e[n],t))return 1}(t,e)||!!function(t,e){for(var n=0;n<t.length-1;n+=1)for(var r=0;r<e.length-1;r+=1)if(i(t[n][0],t[n][1],t[n+1][0],t[n+1][1],e[r][0],e[r][1],e[r+1][0],e[r+1][1]))return 1}(t,e)})},{"lines-intersect":19,"point-inside-polygon":20}]},{},[18]);