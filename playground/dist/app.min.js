"use strict";function _typeof2(e){return(_typeof2="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_unsupportedIterableToArray(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArrayLimit(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,i=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(n=(s=a.next()).done)&&(r.push(s.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{n||null==a.return||a.return()}finally{if(i)throw o}}return r}}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _createForOfIteratorHelper(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=_unsupportedIterableToArray(e))){var t=0,r=function(){};return{s:r,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,i,o=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw i}}}}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _createSuper(n){return function(){var e,t=_getPrototypeOf(n);if(_isNativeReflectConstruct()){var r=_getPrototypeOf(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return _possibleConstructorReturn(this,e)}}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof2(t)&&"function"!=typeof t?_assertThisInitialized(e):t}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),e}!function o(s,a,u){function h(t,e){if(!a[t]){if(!s[t]){var r="function"==typeof require&&require;if(!e&&r)return r(t,!0);if(c)return c(t,!0);var n=new Error("Cannot find module '"+t+"'");throw n.code="MODULE_NOT_FOUND",n}var i=a[t]={exports:{}};s[t][0].call(i.exports,function(e){return h(s[t][1][e]||e)},i,i.exports,o,s,a,u)}return a[t].exports}for(var c="function"==typeof require&&require,e=0;e<u.length;e++)h(u[e]);return h}({1:[function(e,t,r){var n=e("./node_modules/point-in-polygon"),i=function(){function r(e,t){_classCallCheck(this,r),this.p5=e,this.polygon=t}return _createClass(r,[{key:"contains",value:function(e){return n(e,this.polygon)}},{key:"draw",value:function(){this.p5.beginShape();for(var e=0;e<this.polygon.length;e++)this.p5.vertex(this.polygon[e][0],this.polygon[e][1]);this.p5.vertex(this.polygon[0][0],this.polygon[0][1]),this.p5.endShape()}}]),r}();t.exports=i},{"./node_modules/point-in-polygon":8}],2:[function(e,t,r){t.exports={MinDistance:20,MaxDistance:30,RepulsionRadius:20,MaxVelocity:.1,AttractionForce:.001,RepulsionForce:500,AlignmentForce:.001,NodeInjectionInterval:100,DrawNodes:!1,TraceMode:!1,InvertedColors:!1,DebugMode:!1,FillMode:!1,DrawHistory:!1,HistoryCaptureInterval:1e3,MaxHistorySize:10,UseBrownianMotion:!0,BrownianMotionRange:.01,ShowBounds:!0}},{}],3:[function(e,t,r){var c=e("./node_modules/vec2"),l=e("./Defaults"),n=function(){_inherits(h,c);var u=_createSuper(h);function h(e,t,r){var n,i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:l,o=4<arguments.length&&void 0!==arguments[4]&&arguments[4],s=5<arguments.length?arguments[5]:void 0,a=6<arguments.length?arguments[6]:void 0;return _classCallCheck(this,h),(n=u.call(this,t,r)).p5=e,n.isFixed=o,n.settings=Object.assign({},l,i),n.velocity=0,n.nextPosition=new c(t,r),n.minDistance=s||i.MinDistance,n.repulsionRadius=a||i.RepulsionRadius,n}return _createClass(h,[{key:"iterate",value:function(){this.isFixed||(this.x=this.p5.lerp(this.x,this.nextPosition.x,this.settings.MaxVelocity),this.y=this.p5.lerp(this.y,this.nextPosition.y,this.settings.MaxVelocity))}},{key:"draw",value:function(){this.isFixed?this.p5.ellipse(this.x,this.y,20):this.p5.ellipse(this.x,this.y,5)}}]),h}();t.exports=n},{"./Defaults":2,"./node_modules/vec2":18}],4:[function(e,t,r){var o=e("./node_modules/rbush-knn"),a=e("./Node"),n=e("./Bounds"),c=e("./Defaults"),i=function(){function h(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:c,n=3<arguments.length&&void 0!==arguments[3]&&arguments[3],i=4<arguments.length&&void 0!==arguments[4]&&arguments[4],o=5<arguments.length&&void 0!==arguments[5]?arguments[5]:{h:0,s:0,b:0,a:255},s=6<arguments.length&&void 0!==arguments[6]?arguments[6]:{h:0,s:0,b:0,a:255},a=7<arguments.length&&void 0!==arguments[7]?arguments[7]:{h:0,s:0,b:255,a:255},u=8<arguments.length&&void 0!==arguments[8]?arguments[8]:{h:0,s:0,b:255,a:255};_classCallCheck(this,h),this.p5=e,this.nodes=t,this.isClosed=n,this.settings=Object.assign({},c,r),this.bounds=i,this.injectionMode="RANDOM",this.lastNodeInjectTime=0,this.nodeHistory=[],this.drawNodes=this.settings.DrawNodes,this.invertedColors=this.settings.InvertedColors,this.traceMode=this.settings.TraceMode,this.debugMode=this.settings.DebugMode,this.fillMode=this.settings.FillMode,this.useBrownianMotion=this.settings.UseBrownianMotion,this.drawHistory=this.settings.DrawHistory,this.showBounds=this.settings.ShowBounds,this.fillColor=o,this.strokeColor=s,this.invertedFillColor=a,this.invertedStrokeColor=u,this.currentFillColor=this.fillColor,this.currentStrokeColor=this.strokeColor,this.invertedColors&&(this.currentFillColor=this.invertedFillColor,this.currentStrokeColor=this.invertedStrokeColor)}return _createClass(h,[{key:"iterate",value:function(e){var t,r=_createForOfIteratorHelper(this.nodes.entries());try{for(r.s();!(t=r.n()).done;){var n=_slicedToArray(t.value,2),i=n[0],o=n[1];this.useBrownianMotion&&this.applyBrownianMotion(i),this.applyAttraction(i),this.applyRepulsion(i,e),this.applyAlignment(i),this.applyBounds(i),o.iterate()}}catch(e){r.e(e)}finally{r.f()}this.splitEdges(),this.pruneNodes(),this.p5.millis()-this.lastNodeInjectTime>=this.settings.NodeInjectionInterval&&(this.injectNode(),this.lastNodeInjectTime=this.p5.millis())}},{key:"applyBrownianMotion",value:function(e){this.nodes[e].x+=this.p5.random(-this.settings.BrownianMotionRange/2,this.settings.BrownianMotionRange/2),this.nodes[e].y+=this.p5.random(-this.settings.BrownianMotionRange/2,this.settings.BrownianMotionRange/2)}},{key:"applyAttraction",value:function(e){var t,r=this.getConnectedNodes(e);null!=r.nextNode&&r.nextNode instanceof a&&!this.nodes[e].isFixed&&(t=this.nodes[e].distance(r.nextNode),Math.min(this.nodes[e].minDistance,r.nextNode.minDistance)<t&&(this.nodes[e].nextPosition.x=this.p5.lerp(this.nodes[e].nextPosition.x,r.nextNode.x,this.settings.AttractionForce),this.nodes[e].nextPosition.y=this.p5.lerp(this.nodes[e].nextPosition.y,r.nextNode.y,this.settings.AttractionForce))),null!=r.previousNode&&r.previousNode instanceof a&&!this.nodes[e].isFixed&&(t=this.nodes[e].distance(r.previousNode),Math.min(this.nodes[e].minDistance,r.previousNode.minDistance)<t&&(this.nodes[e].nextPosition.x=this.p5.lerp(this.nodes[e].nextPosition.x,r.previousNode.x,this.settings.AttractionForce),this.nodes[e].nextPosition.y=this.p5.lerp(this.nodes[e].nextPosition.y,r.previousNode.y,this.settings.AttractionForce)))}},{key:"applyRepulsion",value:function(e,t){var r,n=_createForOfIteratorHelper(o(t,this.nodes[e].x,this.nodes[e].y,void 0,void 0,this.nodes[e].repulsionRadius*this.nodes[e].repulsionRadius));try{for(n.s();!(r=n.n()).done;){var i=r.value;this.nodes[e].nextPosition.x=this.p5.lerp(this.nodes[e].x,i.x,-this.settings.RepulsionForce),this.nodes[e].nextPosition.y=this.p5.lerp(this.nodes[e].y,i.y,-this.settings.RepulsionForce)}}catch(e){n.e(e)}finally{n.f()}}},{key:"applyAlignment",value:function(e){var t=this.getConnectedNodes(e);if(null!=t.previousNode&&t.previousNode instanceof a&&null!=t.nextNode&&t.nextNode instanceof a&&!this.nodes[e].isFixed){var r=this.getMidpointNode(t.previousNode,t.nextNode);this.nodes[e].nextPosition.x=this.p5.lerp(this.nodes[e].nextPosition.x,r.x,this.settings.AlignmentForce),this.nodes[e].nextPosition.y=this.p5.lerp(this.nodes[e].nextPosition.y,r.y,this.settings.AlignmentForce)}}},{key:"splitEdges",value:function(){var e,t=_createForOfIteratorHelper(this.nodes.entries());try{for(t.s();!(e=t.n()).done;){var r=_slicedToArray(e.value,2),n=r[0],i=r[1],o=this.getConnectedNodes(n);if(null!=o.previousNode&&o.previousNode instanceof a&&i.distance(o.previousNode)>=this.settings.MaxDistance){var s=this.getMidpointNode(i,o.previousNode);0==n?this.nodes.splice(this.nodes.length,0,s):this.nodes.splice(n,0,s)}}}catch(e){t.e(e)}finally{t.f()}}},{key:"pruneNodes",value:function(){var e,t=_createForOfIteratorHelper(this.nodes.entries());try{for(t.s();!(e=t.n()).done;){var r=_slicedToArray(e.value,2),n=r[0],i=r[1],o=this.getConnectedNodes(n);null!=o.previousNode&&o.previousNode instanceof a&&i.distance(o.previousNode)<this.settings.MinDistance&&(0==n?this.nodes[this.nodes.length-1].isFixed||this.nodes.splice(this.nodes.length-1,1):this.nodes[n-1].isFixed||this.nodes.splice(n-1,1))}}catch(e){t.e(e)}finally{t.f()}}},{key:"injectNode",value:function(){switch(this.injectionMode){case"RANDOM":this.injectRandomNode();break;case"CURVATURE":this.injectNodeByCurvature()}}},{key:"injectRandomNode",value:function(){var e=parseInt(this.p5.random(1,this.nodes.length)),t=this.getConnectedNodes(e);if(null!=t.previousNode&&t.previousNode instanceof a&&null!=t.nextNode&&t.nextNode instanceof a&&this.nodes[e].distance(t.previousNode)>this.settings.MinDistance){var r=this.getMidpointNode(this.nodes[e],t.previousNode);this.nodes.splice(e,0,r)}}},{key:"injectNodeByCurvature",value:function(){var e,t=_createForOfIteratorHelper(this.nodes.entries());try{for(t.s();!(e=t.n()).done;){var r=_slicedToArray(e.value,2),n=r[0],i=r[1],o=this.getConnectedNodes(n);if(null!=o.previousNode&&null!=o.nextNode){var s=o.nextNode.y-o.previousNode.y,a=o.nextNode.x-o.previousNode.x;if(20<Math.round(Math.abs(Math.atan(s/a)))){var u=this.getMidpointNode(i,o.previousNode),h=this.getMidpointNode(i,o.nextNode);0==n?(this.nodes.splice(this.nodes.length-1,0,u),this.nodes.splice(0,0,h)):this.nodes.splice(n,1,u,h)}}}}catch(e){t.e(e)}finally{t.f()}}},{key:"applyBounds",value:function(e){null!=this.bounds&&this.bounds instanceof n&&!this.bounds.contains([this.nodes[e].x,this.nodes[e].y])&&(this.nodes[e].isFixed=!0)}},{key:"getConnectedNodes",value:function(e){var t,r;return 0==e&&this.isClosed?t=this.nodes[this.nodes.length-1]:1<=e&&(t=this.nodes[e-1]),e==this.nodes.length-1&&this.isClosed?r=this.nodes[0]:e<=this.nodes.length-1&&(r=this.nodes[e+1]),{previousNode:t,nextNode:r}}},{key:"getMidpointNode",value:function(e,t,r){var n=2<arguments.length&&void 0!==r&&r;return new a(this.p5,(e.x+t.x)/2,(e.y+t.y)/2,this.settings,n)}},{key:"draw",value:function(){this.drawHistory&&this.drawPreviousEdges(),this.showBounds&&null!=this.bounds&&this.bounds instanceof n&&this.drawBounds(),this.fillMode&&this.isClosed?this.p5.fill(this.currentFillColor.h,this.currentFillColor.s,this.currentFillColor.b,this.currentFillColor.a):this.p5.noFill(),this.p5.stroke(this.currentStrokeColor.h,this.currentStrokeColor.s,this.currentStrokeColor.b,this.currentStrokeColor.a),this.drawCurrentEdges(),this.drawNodes&&this.drawCurrentNodes()}},{key:"drawCurrentEdges",value:function(){this.drawEdges(this.nodes)}},{key:"drawPreviousEdges",value:function(){var e,t=_createForOfIteratorHelper(this.nodeHistory.entries());try{for(t.s();!(e=t.n()).done;){var r=_slicedToArray(e.value,2),n=r[0],i=r[1];this.p5.stroke(this.currentStrokeColor.h,this.currentStrokeColor.s,this.currentStrokeColor.b,30*n),this.drawEdges(i)}}catch(e){t.e(e)}finally{t.f()}}},{key:"drawEdges",value:function(e){this.debugMode||this.p5.beginShape();for(var t=0;t<e.length;t++)this.debugMode?0<t&&(this.traceMode?this.p5.stroke(this.p5.map(t,0,e.length-1,0,255,!0),255,255,2):this.p5.stroke(this.p5.map(t,0,e.length-1,0,255,!0),255,255,255),this.p5.line(e[t-1].x,e[t-1].y,e[t].x,e[t].y)):this.p5.vertex(e[t].x,e[t].y);this.isClosed&&(this.debugMode?this.p5.line(e[e.length-1].x,e[e.length-1].y,e[0].x,e[0].y):this.p5.vertex(e[0].x,e[0].y)),this.debugMode||this.p5.endShape()}},{key:"drawCurrentNodes",value:function(){this.p5.noStroke(),this.invertedColors?this.p5.fill(255):this.p5.fill(0);var e,t=_createForOfIteratorHelper(this.nodes.entries());try{for(t.s();!(e=t.n()).done;){var r=_slicedToArray(e.value,2),n=r[0],i=r[1];this.debugMode&&this.p5.fill(this.p5.map(n,0,this.nodes.length-1,0,255,!0),255,255,255),i.draw()}}catch(e){t.e(e)}finally{t.f()}}},{key:"drawBounds",value:function(){this.invertedColors?this.p5.stroke(100):this.p5.stroke(200),this.p5.noFill(),this.bounds.draw()}},{key:"addToHistory",value:function(){this.nodeHistory.length==this.settings.MaxHistorySize&&this.nodeHistory.shift(),this.nodeHistory.push(Object.assign([],JSON.parse(JSON.stringify(this.nodes))))}},{key:"moveTo",value:function(e,t){var r,n=_createForOfIteratorHelper(this.nodes);try{for(n.s();!(r=n.n()).done;){var i=r.value;i.x+=e,i.y+=t}}catch(e){n.e(e)}finally{n.f()}}},{key:"scale",value:function(e){var t,r=_createForOfIteratorHelper(this.nodes);try{for(r.s();!(t=r.n()).done;){var n=t.value;n.x*=e,n.y*=e}}catch(e){r.e(e)}finally{r.f()}}},{key:"addNode",value:function(e){this.nodes.push(e)}},{key:"toArray",value:function(){var e,t=[],r=_createForOfIteratorHelper(this.nodes);try{for(r.s();!(e=r.n()).done;){var n=e.value;t.push([n.x,n.y])}}catch(e){r.e(e)}finally{r.f()}return t}},{key:"getTraceMode",value:function(){return this.traceMode}},{key:"getInvertedColors",value:function(){return this.invertedColors}},{key:"setMinDistance",value:function(e){this.settings.MinDistance=e;var t,r=_createForOfIteratorHelper(this.nodes);try{for(r.s();!(t=r.n()).done;){t.value.minDistance=e}}catch(e){r.e(e)}finally{r.f()}}},{key:"setMaxDistance",value:function(e){this.settings.MaxDistance=e;var t,r=_createForOfIteratorHelper(this.nodes);try{for(r.s();!(t=r.n()).done;){t.value.maxDistance=e}}catch(e){r.e(e)}finally{r.f()}}},{key:"setRepulsionRadius",value:function(e){this.settings.RepulsionRadius=e;var t,r=_createForOfIteratorHelper(this.nodes);try{for(r.s();!(t=r.n()).done;){t.value.repulsionRadius=e}}catch(e){r.e(e)}finally{r.f()}}},{key:"setTraceMode",value:function(e){this.traceMode=e,this.traceMode,this.currentFillColor.a=255,this.currentStrokeColor.a=255}},{key:"setInvertedColors",value:function(e){this.invertedColors=e,this.invertedColors?(this.currentFillColor=this.invertedFillColor,this.currentStrokeColor=this.invertedStrokeColor):(this.currentFillColor=this.fillColor,this.currentStrokeColor=this.strokeColor),this.setTraceMode(this.traceMode)}},{key:"setBounds",value:function(e){this.bounds=e}},{key:"toggleTraceMode",value:function(){this.setTraceMode(!this.getTraceMode())}},{key:"toggleInvertedColors",value:function(){this.setInvertedColors(!this.getInvertedColors())}}]),h}();t.exports=i},{"./Bounds":1,"./Defaults":2,"./Node":3,"./node_modules/rbush-knn":10}],5:[function(e,t,r){var g=e("./Node"),x=e("./Path"),_=e("./Defaults"),w=e("./node_modules/svg-pathdata").SVGPathData,n=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"loadFromObject",value:function(e,t,r){var n=2<arguments.length&&void 0!==r?r:_;return this.load(e,document.getElementById(t),n)}},{key:"load",value:function(e,t,r){var n=2<arguments.length&&void 0!==r?r:_;this.settings=Object.assign({},_,n);var i,o=t.querySelectorAll("path"),s=new x(e,[],this.settings,!0),a=[],u=_createForOfIteratorHelper(o);try{for(u.s();!(i=u.n()).done;){var h,c=i.value,l=new w(c.getAttribute("d")),d={x:0,y:0},f=_createForOfIteratorHelper(l.commands.entries());try{for(f.s();!(h=f.n()).done;){var p=_slicedToArray(h.value,2),y=p[0],v=p[1];switch(v.type){case w.MOVE_TO:case w.LINE_TO:s.addNode(new g(e,v.x,v.y,this.settings));break;case w.HORIZ_LINE_TO:s.addNode(new g(e,v.x,d.y,this.settings));break;case w.VERT_LINE_TO:s.addNode(new g(e,d.x,v.y,this.settings));break;case w.CLOSE_PATH:a.push(s),(s=new x(e,[],this.settings,!0)).setInvertedColors(!0)}if(y==l.commands.length-1&&v.type!=w.CLOSE_PATH){var m=s.nodes[0];s.nodes[s.nodes.length-1].distance(m)<.1?s.isClosed=!0:s.isClosed=!1,a.push(s),s=new x(e,[],this.settings,!0)}v.hasOwnProperty("x")&&(d.x=v.x),v.hasOwnProperty("y")&&(d.y=v.y)}}catch(e){f.e(e)}finally{f.f()}}}catch(e){u.e(e)}finally{u.f()}return a}}]),e}();t.exports=n},{"./Defaults":2,"./Node":3,"./Path":4,"./node_modules/svg-pathdata":12}],6:[function(e,t,r){var o=e("./node_modules/rbush"),c=e("./node_modules/svg-points/").toPath,h=e("./node_modules/file-saver").saveAs,s=e("./Defaults"),n=function(){function i(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:s,r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:[];_classCallCheck(this,i),this.p5=e,this.paths=r,this.paused=!1,this.settings=Object.assign({},s,t),this.traceMode=this.settings.TraceMode,this.drawNodes=this.settings.DrawNodes,this.debugMode=this.settings.DebugMode,this.invertedColors=this.settings.InvertedColors,this.fillMode=this.settings.FillMode,this.drawHistory=this.settings.DrawHistory,this.useBrownianMotion=this.settings.UseBrownianMotion,this.showBounds=this.settings.ShowBounds,this.tree=o(9,[".x",".y",".x",".y"]),this.buildTree();var n=this;setInterval(function(){n.addToHistory()},this.settings.HistoryCaptureInterval)}return _createClass(i,[{key:"iterate",value:function(){if(this.prunePaths(),this.buildTree(),null!=this.paths&&this.paths instanceof Array&&0<this.paths.length&&!this.paused){var e,t=_createForOfIteratorHelper(this.paths);try{for(t.s();!(e=t.n()).done;){e.value.iterate(this.tree)}}catch(e){t.e(e)}finally{t.f()}}}},{key:"draw",value:function(){this.traceMode||this.drawBackground();var e,t=_createForOfIteratorHelper(this.paths);try{for(t.s();!(e=t.n()).done;){e.value.draw()}}catch(e){t.e(e)}finally{t.f()}}},{key:"drawBackground",value:function(){this.invertedColors?this.p5.background(0):this.p5.background(255)}},{key:"buildTree",value:function(){this.tree.clear();var e,t=_createForOfIteratorHelper(this.paths);try{for(t.s();!(e=t.n()).done;){var r=e.value;this.tree.load(r.nodes)}}catch(e){t.e(e)}finally{t.f()}}},{key:"addPath",value:function(e){e.drawNodes=this.drawNodes,e.debugMode=this.debugMode,e.fillMode=this.fillMode,e.useBrownianMotion=this.useBrownianMotion,e.setInvertedColors(this.invertedColors),e.setTraceMode(this.traceMode),this.paths.push(e)}},{key:"addPaths",value:function(e){var t,r=_createForOfIteratorHelper(e);try{for(r.s();!(t=r.n()).done;){var n=t.value;this.addPath(n)}}catch(e){r.e(e)}finally{r.f()}}},{key:"addToHistory",value:function(){if(!this.paused){var e,t=_createForOfIteratorHelper(this.paths);try{for(t.s();!(e=t.n()).done;){e.value.addToHistory()}}catch(e){t.e(e)}finally{t.f()}}}},{key:"prunePaths",value:function(){for(var e=0;e<this.paths.length;e++)this.paths[e].nodes.length<=1&&this.paths.splice(e,1)}},{key:"export",value:function(){var e=document.createElementNS("http://www.w3.org/2000/svg","svg");e.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns","http://www.w3.org/2000/svg"),e.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink","http://www.w3.org/1999/xlink"),e.setAttribute("width",window.innerWidth),e.setAttribute("height",window.innerHeight),e.setAttribute("viewBox","0 0 "+window.innerWidth+" "+window.innerHeight);var t,r=_createForOfIteratorHelper(this.paths);try{for(r.s();!(t=r.n()).done;){var n=t.value;if(this.drawHistory){var i,o=_createForOfIteratorHelper(n.nodeHistory);try{for(o.s();!(i=o.n()).done;){var s=i.value;e.appendChild(this.createPathElFromNodes(s,n.isClosed))}}catch(e){o.e(e)}finally{o.f()}}e.appendChild(this.createPathElFromNodes(n.nodes),n.isClosed)}}catch(e){r.e(e)}finally{r.f()}var a=(new XMLSerializer).serializeToString(e),u=new Blob(['<?xml version="1.0" encoding="UTF-8" standalone="no"?>',a],{type:"image/svg+xml;"});h(u,"differential-growth-"+Date.now()+".svg")}},{key:"createPathElFromNodes",value:function(e,t){var r,n="",i=_createForOfIteratorHelper(e.entries());try{for(i.s();!(r=i.n()).done;){var o=_slicedToArray(r.value,2),s=o[0],a=o[1];n+=a.x+","+a.y,s<e.length-1&&(n+=" ")}}catch(e){i.e(e)}finally{i.f()}var u=c({type:"polyline",points:n});t&&(u+=" Z");var h=document.createElementNS("http://www.w3.org/2000/svg","path");return h.setAttribute("d",u),h.setAttribute("style","fill: none; stroke: black; stroke-width: 1"),h}},{key:"clearPaths",value:function(){this.paths=[]}},{key:"pause",value:function(){this.paused=!0}},{key:"unpause",value:function(){this.paused=!1}},{key:"getDrawNodes",value:function(){return this.drawNodes}},{key:"getDebugMode",value:function(){return this.debugMode}},{key:"getFillMode",value:function(){return this.fillMode}},{key:"getDrawHistory",value:function(){return this.drawHistory}},{key:"getDrawBounds",value:function(){return this.showBounds}},{key:"setMinDistance",value:function(e){this.settings.MinDistance=e;var t,r=_createForOfIteratorHelper(this.paths);try{for(r.s();!(t=r.n()).done;){t.value.setMinDistance(e)}}catch(e){r.e(e)}finally{r.f()}}},{key:"setMaxDistance",value:function(e){this.settings.MaxDistance=e;var t,r=_createForOfIteratorHelper(this.paths);try{for(r.s();!(t=r.n()).done;){t.value.setMaxDistance(e)}}catch(e){r.e(e)}finally{r.f()}}},{key:"setRepulsionRadius",value:function(e){this.settings.RepulsionRadius=e;var t,r=_createForOfIteratorHelper(this.paths);try{for(r.s();!(t=r.n()).done;){t.value.setRepulsionRadius(e)}}catch(e){r.e(e)}finally{r.f()}}},{key:"setAttractionForce",value:function(e){this.settings.AttractionForce=e;var t,r=_createForOfIteratorHelper(this.paths);try{for(r.s();!(t=r.n()).done;){t.value.setAttractionForce(e)}}catch(e){r.e(e)}finally{r.f()}}},{key:"setRepulsionForce",value:function(e){this.settings.RepulsionForce=e;var t,r=_createForOfIteratorHelper(this.paths);try{for(r.s();!(t=r.n()).done;){t.value.setRepulsionForce(e)}}catch(e){r.e(e)}finally{r.f()}}},{key:"setAlignmentForce",value:function(e){this.settings.AlignmentForce=e;var t,r=_createForOfIteratorHelper(this.paths);try{for(r.s();!(t=r.n()).done;){t.value.setAlignmentForce(e)}}catch(e){r.e(e)}finally{r.f()}}},{key:"setDrawNodes",value:function(e){this.drawBackground();var t,r=_createForOfIteratorHelper(this.paths);try{for(r.s();!(t=r.n()).done;){var n=t.value;n.drawNodes=e,n.draw()}}catch(e){r.e(e)}finally{r.f()}this.drawNodes=e,this.settings.DrawNodes=e}},{key:"setDebugMode",value:function(e){this.drawBackground();var t,r=_createForOfIteratorHelper(this.paths);try{for(r.s();!(t=r.n()).done;){var n=t.value;n.debugMode=e,n.draw()}}catch(e){r.e(e)}finally{r.f()}this.debugMode=e,this.settings.DebugMode=e}},{key:"setFillMode",value:function(e){this.drawBackground();var t,r=_createForOfIteratorHelper(this.paths);try{for(r.s();!(t=r.n()).done;){var n=t.value;n.fillMode=e,n.draw()}}catch(e){r.e(e)}finally{r.f()}this.fillMode=e,this.settings.FillMode=e}},{key:"setDrawHistory",value:function(e){this.drawBackground();var t,r=_createForOfIteratorHelper(this.paths);try{for(r.s();!(t=r.n()).done;){var n=t.value;n.drawHistory=e,n.draw()}}catch(e){r.e(e)}finally{r.f()}this.drawHistory=e,this.settings.DrawHistory=e}},{key:"setTraceMode",value:function(e){this.traceMode=e,this.settings.TraceMode=e,this.drawBackground();var t,r=_createForOfIteratorHelper(this.paths);try{for(r.s();!(t=r.n()).done;){t.value.traceMode=e}}catch(e){r.e(e)}finally{r.f()}}},{key:"setInvertedColors",value:function(e){this.invertedColors=e,this.settings.InvertedColors=e,this.drawBackground();var t,r=_createForOfIteratorHelper(this.paths);try{for(r.s();!(t=r.n()).done;){t.value.invertedColors=e}}catch(e){r.e(e)}finally{r.f()}}},{key:"setDrawBounds",value:function(e){this.drawBackground();var t,r=_createForOfIteratorHelper(this.paths);try{for(r.s();!(t=r.n()).done;){var n=t.value;n.showBounds=e,n.draw()}}catch(e){r.e(e)}finally{r.f()}this.showBounds=e}},{key:"toggleDrawNodes",value:function(){this.setDrawNodes(!this.getDrawNodes())}},{key:"toggleTraceMode",value:function(){this.traceMode=!this.traceMode,this.drawBackground();var e,t=_createForOfIteratorHelper(this.paths);try{for(t.s();!(e=t.n()).done;){var r=e.value;r.toggleTraceMode(),r.draw()}}catch(e){t.e(e)}finally{t.f()}}},{key:"toggleInvertedColors",value:function(){this.invertedColors=!this.invertedColors,this.drawBackground();var e,t=_createForOfIteratorHelper(this.paths);try{for(t.s();!(e=t.n()).done;){var r=e.value;r.toggleInvertedColors(),r.draw()}}catch(e){t.e(e)}finally{t.f()}}},{key:"toggleDebugMode",value:function(){this.setDebugMode(!this.getDebugMode())}},{key:"toggleFillMode",value:function(){this.setFillMode(!this.getFillMode())}},{key:"toggleDrawHistory",value:function(){this.setDrawHistory(!this.getDrawHistory())}},{key:"toggleDrawBounds",value:function(){this.setDrawBounds(!this.getDrawBounds())}},{key:"togglePause",value:function(){this.paused?this.unpause():this.pause()}}]),i}();t.exports=n},{"./Defaults":2,"./node_modules/file-saver":7,"./node_modules/rbush":11,"./node_modules/svg-points/":13}],7:[function(e,n,i){(function(t){var e,r;e=this,r=function(){function c(e,t,r){var n=new XMLHttpRequest;n.open("GET",e),n.responseType="blob",n.onload=function(){i(n.response,t,r)},n.onerror=function(){console.error("could not download file")},n.send()}function s(e){var t=new XMLHttpRequest;return t.open("HEAD",e,!1),t.send(),200<=t.status&&t.status<=299}function o(t){try{t.dispatchEvent(new MouseEvent("click"))}catch(e){var r=document.createEvent("MouseEvents");r.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(r)}}var l=function(){try{return Function("return this")()||(0,eval)("this")}catch(e){return"object"==("undefined"==typeof window?"undefined":_typeof2(window))&&window.window===window?window:"object"==("undefined"==typeof self?"undefined":_typeof2(self))&&self.self===self?self:"object"==_typeof2(t)&&t.global===t?t:this}}(),i=l.saveAs||"object"!=("undefined"==typeof window?"undefined":_typeof2(window))||window!==l?function(){}:"download"in HTMLAnchorElement.prototype?function(e,t,r){var n=l.URL||l.webkitURL,i=document.createElement("a");t=t||e.name||"download",i.download=t,i.rel="noopener","string"==typeof e?(i.href=e,i.origin===location.origin?o(i):s(i.href)?c(e,t,r):o(i,i.target="_blank")):(i.href=n.createObjectURL(e),setTimeout(function(){n.revokeObjectURL(i.href)},4e4),setTimeout(function(){o(i)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,r){if(t=t||e.name||"download","string"!=typeof e)navigator.msSaveOrOpenBlob((i=e,void 0===(o=r)?o={autoBom:!1}:"object"!=_typeof2(o)&&(console.warn("Depricated: Expected third argument to be a object"),o={autoBom:!o}),o.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\ufeff",i],{type:i.type}):i),t);else if(s(e))c(e,t,r);else{var n=document.createElement("a");n.href=e,n.target="_blank",setTimeout(function(){clikc(n)})}var i,o}:function(e,t,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),"string"==typeof e)return c(e,t,r);var i="application/octet-stream"===e.type,o=/constructor/i.test(l.HTMLElement)||l.safari,s=/CriOS\/[\d]+/.test(navigator.userAgent);if((s||i&&o)&&"object"==("undefined"==typeof FileReader?"undefined":_typeof2(FileReader))){var a=new FileReader;a.onloadend=function(){var e=a.result;e=s?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=e:location=e,n=null},a.readAsDataURL(e)}else{var u=l.URL||l.webkitURL,h=u.createObjectURL(e);n?n.location=h:location.href=h,n=null,setTimeout(function(){u.revokeObjectURL(h)},4e4)}};n.exports=l.saveAs=i.saveAs=i},"function"==typeof define&&define.amd?define([],r):void 0!==i?r():(r(),e.FileSaver={})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],8:[function(e,t,r){t.exports=function(e,t){for(var r=e[0],n=e[1],i=!1,o=0,s=t.length-1;o<t.length;s=o++){var a=t[o][0],u=t[o][1],h=t[s][0],c=t[s][1];n<u!=n<c&&r<(h-a)*(n-u)/(c-u)+a&&(i=!i)}return i}},{}],9:[function(e,t,r){var n,i;n=this,i=function(){function v(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function o(e,t){return e<t?-1:t<e?1:0}return function(e,t,r,n,i){!function e(t,r,n,i,o){for(;n<i;){if(600<i-n){var s=i-n+1,a=r-n+1,u=Math.log(s),h=.5*Math.exp(2*u/3),c=.5*Math.sqrt(u*h*(s-h)/s)*(a-s/2<0?-1:1),l=Math.max(n,Math.floor(r-a*h/s+c)),d=Math.min(i,Math.floor(r+(s-a)*h/s+c));e(t,r,l,d,o)}var f=t[r],p=n,y=i;for(v(t,n,r),0<o(t[i],f)&&v(t,n,i);p<y;){for(v(t,p,y),p++,y--;o(t[p],f)<0;)p++;for(;0<o(t[y],f);)y--}0===o(t[n],f)?v(t,n,y):v(t,++y,i),y<=r&&(n=y+1),r<=y&&(i=y-1)}}(e,t,r||0,n||e.length-1,i||o)}},"object"===_typeof2(r)&&void 0!==t?t.exports=i():"function"==typeof define&&define.amd?define(i):n.quickselect=i()},{}],10:[function(e,t,r){var x=e("tinyqueue");function n(e,t,r,n,i,o){for(var s,a,u,h,c,l,d,f,p,y=e.data,v=[],m=e.toBBox,g=new x(null,_);y;){for(s=0;s<y.children.length;s++)a=y.children[s],c=t,l=r,d=y.leaf?m(a):a,0,f=w(c,d.minX,d.maxX),p=w(l,d.minY,d.maxY),u=f*f+p*p,(!o||u<=o)&&g.push({node:a,isItem:y.leaf,dist:u});for(;g.length&&g.peek().isItem;)if(h=g.pop().node,i&&!i(h)||v.push(h),n&&v.length===n)return v;y=(y=g.pop())&&y.node}return v}function _(e,t){return e.dist-t.dist}function w(e,t,r){return e<t?t-e:e<=r?0:e-r}t.exports=n,t.exports.default=n},{tinyqueue:17}],11:[function(e,t,r){t.exports=n,t.exports.default=n;var a=e("quickselect");function n(e,t){if(!(this instanceof n))return new n(e,t);this._maxEntries=Math.max(4,e||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),t&&this._initFormat(t),this.clear()}function c(e,t,r){if(!r)return t.indexOf(e);for(var n=0;n<t.length;n++)if(r(e,t[n]))return n;return-1}function f(e,t){m(e,0,e.children.length,t,e)}function m(e,t,r,n,i){(i=i||y(null)).minX=1/0,i.minY=1/0,i.maxX=-1/0,i.maxY=-1/0;for(var o,s=t;s<r;s++)o=e.children[s],l(i,e.leaf?n(o):o);return i}function l(e,t){return e.minX=Math.min(e.minX,t.minX),e.minY=Math.min(e.minY,t.minY),e.maxX=Math.max(e.maxX,t.maxX),e.maxY=Math.max(e.maxY,t.maxY),e}function o(e,t){return e.minX-t.minX}function s(e,t){return e.minY-t.minY}function g(e){return(e.maxX-e.minX)*(e.maxY-e.minY)}function d(e){return e.maxX-e.minX+(e.maxY-e.minY)}function p(e,t){return e.minX<=t.minX&&e.minY<=t.minY&&t.maxX<=e.maxX&&t.maxY<=e.maxY}function h(e,t){return t.minX<=e.maxX&&t.minY<=e.maxY&&t.maxX>=e.minX&&t.maxY>=e.minY}function y(e){return{children:e,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function v(e,t,r,n,i){for(var o,s=[t,r];s.length;)(r=s.pop())-(t=s.pop())<=n||(o=t+Math.ceil((r-t)/n/2)*n,a(e,o,t,r,i),s.push(t,o,o,r))}n.prototype={all:function(){return this._all(this.data,[])},search:function(e){var t=this.data,r=[],n=this.toBBox;if(!h(e,t))return r;for(var i,o,s,a,u=[];t;){for(i=0,o=t.children.length;i<o;i++)s=t.children[i],h(e,a=t.leaf?n(s):s)&&(t.leaf?r.push(s):p(e,a)?this._all(s,r):u.push(s));t=u.pop()}return r},collides:function(e){var t=this.data,r=this.toBBox;if(!h(e,t))return!1;for(var n,i,o,s,a=[];t;){for(n=0,i=t.children.length;n<i;n++)if(o=t.children[n],h(e,s=t.leaf?r(o):o)){if(t.leaf||p(e,s))return!0;a.push(o)}t=a.pop()}return!1},load:function(e){if(!e||!e.length)return this;if(e.length<this._minEntries){for(var t=0,r=e.length;t<r;t++)this.insert(e[t]);return this}var n=this._build(e.slice(),0,e.length-1,0);if(this.data.children.length)if(this.data.height===n.height)this._splitRoot(this.data,n);else{if(this.data.height<n.height){var i=this.data;this.data=n,n=i}this._insert(n,this.data.height-n.height-1,!0)}else this.data=n;return this},insert:function(e){return e&&this._insert(e,this.data.height-1),this},clear:function(){return this.data=y([]),this},remove:function(e,t){if(!e)return this;for(var r,n,i,o,s=this.data,a=this.toBBox(e),u=[],h=[];s||u.length;){if(s||(s=u.pop(),n=u[u.length-1],r=h.pop(),o=!0),s.leaf&&-1!==(i=c(e,s.children,t)))return s.children.splice(i,1),u.push(s),this._condense(u),this;o||s.leaf||!p(s,a)?n?(r++,s=n.children[r],o=!1):s=null:(u.push(s),h.push(r),r=0,s=(n=s).children[0])}return this},toBBox:function(e){return e},compareMinX:o,compareMinY:s,toJSON:function(){return this.data},fromJSON:function(e){return this.data=e,this},_all:function(e,t){for(var r=[];e;)e.leaf?t.push.apply(t,e.children):r.push.apply(r,e.children),e=r.pop();return t},_build:function(e,t,r,n){var i,o=r-t+1,s=this._maxEntries;if(o<=s)return f(i=y(e.slice(t,r+1)),this.toBBox),i;n||(n=Math.ceil(Math.log(o)/Math.log(s)),s=Math.ceil(o/Math.pow(s,n-1))),(i=y([])).leaf=!1,i.height=n;var a,u,h,c,l=Math.ceil(o/s),d=l*Math.ceil(Math.sqrt(s));for(v(e,t,r,d,this.compareMinX),a=t;a<=r;a+=d)for(v(e,a,h=Math.min(a+d-1,r),l,this.compareMinY),u=a;u<=h;u+=l)c=Math.min(u+l-1,h),i.children.push(this._build(e,u,c,n-1));return f(i,this.toBBox),i},_chooseSubtree:function(e,t,r,n){for(var i,o,s,a,u,h,c,l,d,f;n.push(t),!t.leaf&&n.length-1!==r;){for(c=l=1/0,i=0,o=t.children.length;i<o;i++)u=g(s=t.children[i]),d=e,f=s,(h=(Math.max(f.maxX,d.maxX)-Math.min(f.minX,d.minX))*(Math.max(f.maxY,d.maxY)-Math.min(f.minY,d.minY))-u)<l?(l=h,c=u<c?u:c,a=s):h===l&&u<c&&(c=u,a=s);t=a||t.children[0]}return t},_insert:function(e,t,r){var n=this.toBBox,i=r?e:n(e),o=[],s=this._chooseSubtree(i,this.data,t,o);for(s.children.push(e),l(s,i);0<=t&&o[t].children.length>this._maxEntries;)this._split(o,t),t--;this._adjustParentBBoxes(i,o,t)},_split:function(e,t){var r=e[t],n=r.children.length,i=this._minEntries;this._chooseSplitAxis(r,i,n);var o=this._chooseSplitIndex(r,i,n),s=y(r.children.splice(o,r.children.length-o));s.height=r.height,s.leaf=r.leaf,f(r,this.toBBox),f(s,this.toBBox),t?e[t-1].children.push(s):this._splitRoot(r,s)},_splitRoot:function(e,t){this.data=y([e,t]),this.data.height=e.height+1,this.data.leaf=!1,f(this.data,this.toBBox)},_chooseSplitIndex:function(e,t,r){var n,i,o,s,a,u,h,c,l,d,f,p,y,v;for(u=h=1/0,n=t;n<=r-t;n++)i=m(e,0,n,this.toBBox),o=m(e,n,r,this.toBBox),l=i,d=o,0,f=Math.max(l.minX,d.minX),p=Math.max(l.minY,d.minY),y=Math.min(l.maxX,d.maxX),v=Math.min(l.maxY,d.maxY),s=Math.max(0,y-f)*Math.max(0,v-p),a=g(i)+g(o),s<u?(u=s,c=n,h=a<h?a:h):s===u&&a<h&&(h=a,c=n);return c},_chooseSplitAxis:function(e,t,r){var n=e.leaf?this.compareMinX:o,i=e.leaf?this.compareMinY:s;this._allDistMargin(e,t,r,n)<this._allDistMargin(e,t,r,i)&&e.children.sort(n)},_allDistMargin:function(e,t,r,n){e.children.sort(n);var i,o,s=this.toBBox,a=m(e,0,t,s),u=m(e,r-t,r,s),h=d(a)+d(u);for(i=t;i<r-t;i++)o=e.children[i],l(a,e.leaf?s(o):o),h+=d(a);for(i=r-t-1;t<=i;i--)o=e.children[i],l(u,e.leaf?s(o):o),h+=d(u);return h},_adjustParentBBoxes:function(e,t,r){for(var n=r;0<=n;n--)l(t[n],e)},_condense:function(e){for(var t,r=e.length-1;0<=r;r--)0===e[r].children.length?0<r?(t=e[r-1].children).splice(t.indexOf(e[r]),1):this.clear():f(e[r],this.toBBox)},_initFormat:function(e){var t=["return a"," - b",";"];this.compareMinX=new Function("a","b",t.join(e[0])),this.compareMinY=new Function("a","b",t.join(e[1])),this.toBBox=new Function("a","return {minX: a"+e[0]+", minY: a"+e[1]+", maxX: a"+e[2]+", maxY: a"+e[3]+"};")}}},{quickselect:9}],12:[function(e,t,r){var n,i;n=this,i=function(s){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};function e(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}function k(e,t){var r=e[0],n=e[1];return[r*Math.cos(t)-n*Math.sin(t),r*Math.sin(t)+n*Math.cos(t)]}function o(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var r=0;r<e.length;r++)if("number"!=typeof e[r])throw new Error("assertNumbers arguments["+r+"] is not a number. "+_typeof2(e[r])+" == typeof "+e[r]);return 1}var v=Math.PI;function E(e,t,r){e.lArcFlag=0===e.lArcFlag?0:1,e.sweepFlag=0===e.sweepFlag?0:1;var n=e.rX,i=e.rY,o=e.x,s=e.y;n=Math.abs(e.rX),i=Math.abs(e.rY);var a=k([(t-o)/2,(r-s)/2],-e.xRot/180*v),u=a[0],h=a[1],c=Math.pow(u,2)/Math.pow(n,2)+Math.pow(h,2)/Math.pow(i,2);1<c&&(n*=Math.sqrt(c),i*=Math.sqrt(c)),e.rX=n,e.rY=i;var l=Math.pow(n,2)*Math.pow(h,2)+Math.pow(i,2)*Math.pow(u,2),d=(e.lArcFlag!==e.sweepFlag?1:-1)*Math.sqrt(Math.max(0,(Math.pow(n,2)*Math.pow(i,2)-l)/l)),f=n*h/i*d,p=-i*u/n*d,y=k([f,p],e.xRot/180*v);e.cX=y[0]+(t+o)/2,e.cY=y[1]+(r+s)/2,e.phi1=Math.atan2((h-p)/i,(u-f)/n),e.phi2=Math.atan2((-h-p)/i,(-u-f)/n),0===e.sweepFlag&&e.phi2>e.phi1&&(e.phi2-=2*v),1===e.sweepFlag&&e.phi2<e.phi1&&(e.phi2+=2*v),e.phi1*=180/v,e.phi2*=180/v}function A(e,t,r){o(e,t,r);var n=e*e+t*t-r*r;if(n<0)return[];if(0==n)return[[e*r/(e*e+t*t),t*r/(e*e+t*t)]];var i=Math.sqrt(n);return[[(e*r+t*i)/(e*e+t*t),(t*r-e*i)/(e*e+t*t)],[(e*r-t*i)/(e*e+t*t),(t*r+e*i)/(e*e+t*t)]]}var t,R=Math.PI/180;function S(e,t,r){return(1-r)*e+r*t}function H(e,t,r,n){return e+Math.cos(n/180*v)*t+Math.sin(n/180*v)*r}function I(e,t,r,n){var i=t-e,o=r-t,s=3*i+3*(n-r)-6*o,a=6*(o-i),u=3*i;return Math.abs(s)<1e-6?[-u/a]:function(e,t){void 0===t&&(t=1e-6);var r=e*e/4-u/s;if(r<-t)return[];if(r<=t)return[-e/2];var n=Math.sqrt(r);return[-e/2-n,-e/2+n]}(a/s,1e-6)}function D(e,t,r,n,i){var o=1-i;return e*(o*o*o)+t*(3*o*o*i)+r*(3*o*i*i)+n*(i*i*i)}function r(){return u(function(e,t,r){return e.relative&&(void 0!==e.x1&&(e.x1+=t),void 0!==e.y1&&(e.y1+=r),void 0!==e.x2&&(e.x2+=t),void 0!==e.y2&&(e.y2+=r),void 0!==e.x&&(e.x+=t),void 0!==e.y&&(e.y+=r),e.relative=!1),e})}function i(){var n=NaN,i=NaN,o=NaN,s=NaN;return u(function(e,t,r){return e.type&F.SMOOTH_CURVE_TO&&(e.type=F.CURVE_TO,n=isNaN(n)?t:n,i=isNaN(i)?r:i,e.x1=e.relative?t-n:2*t-n,e.y1=e.relative?r-i:2*r-i),i=e.type&F.CURVE_TO?(n=e.relative?t+e.x2:e.x2,e.relative?r+e.y2:e.y2):n=NaN,e.type&F.SMOOTH_QUAD_TO&&(e.type=F.QUAD_TO,o=isNaN(o)?t:o,s=isNaN(s)?r:s,e.x1=e.relative?t-o:2*t-o,e.y1=e.relative?r-s:2*r-s),s=e.type&F.QUAD_TO?(o=e.relative?t+e.x1:e.x1,e.relative?r+e.y1:e.y1):o=NaN,e})}function a(){var o=NaN,s=NaN;return u(function(e,t,r){if(e.type&F.SMOOTH_QUAD_TO&&(e.type=F.QUAD_TO,o=isNaN(o)?t:o,s=isNaN(s)?r:s,e.x1=e.relative?t-o:2*t-o,e.y1=e.relative?r-s:2*r-s),e.type&F.QUAD_TO){o=e.relative?t+e.x1:e.x1,s=e.relative?r+e.y1:e.y1;var n=e.x1,i=e.y1;e.type=F.CURVE_TO,e.x1=((e.relative?0:t)+2*n)/3,e.y1=((e.relative?0:r)+2*i)/3,e.x2=(e.x+2*n)/3,e.y2=(e.y+2*i)/3}else s=o=NaN;return e})}function u(r){var n=0,i=0,o=NaN,s=NaN;return function(e){if(isNaN(o)&&!(e.type&F.MOVE_TO))throw new Error("path must start with moveto");var t=r(e,n,i,o,s);return e.type&F.CLOSE_PATH&&(n=o,i=s),void 0!==e.x&&(n=e.relative?n+e.x:e.x),void 0!==e.y&&(i=e.relative?i+e.y:e.y),e.type&F.MOVE_TO&&(o=n,s=i),t}}function h(T,C,N,k,E,A){return o(T,C,N,k,E,A),u(function(e,t,r,n){var i=e.x1,o=e.x2,s=e.relative&&!isNaN(n),a=void 0!==e.x?e.x:s?0:t,u=void 0!==e.y?e.y:s?0:r;function h(e){return e*e}e.type&F.HORIZ_LINE_TO&&0!==C&&(e.type=F.LINE_TO,e.y=e.relative?0:r),e.type&F.VERT_LINE_TO&&0!==N&&(e.type=F.LINE_TO,e.x=e.relative?0:t),void 0!==e.x&&(e.x=e.x*T+u*N+(s?0:E)),void 0!==e.y&&(e.y=a*C+e.y*k+(s?0:A)),void 0!==e.x1&&(e.x1=e.x1*T+e.y1*N+(s?0:E)),void 0!==e.y1&&(e.y1=i*C+e.y1*k+(s?0:A)),void 0!==e.x2&&(e.x2=e.x2*T+e.y2*N+(s?0:E)),void 0!==e.y2&&(e.y2=o*C+e.y2*k+(s?0:A));var c=T*k-C*N;if(void 0!==e.xRot&&(1!==T||0!==C||0!==N||1!==k))if(0==c)delete e.rX,delete e.rY,delete e.xRot,delete e.lArcFlag,delete e.sweepFlag,e.type=F.LINE_TO;else{var l=e.xRot*Math.PI/180,d=Math.sin(l),f=Math.cos(l),p=1/h(e.rX),y=1/h(e.rY),v=h(f)*p+h(d)*y,m=2*d*f*(p-y),g=h(d)*p+h(f)*y,x=v*k*k-m*C*k+g*C*C,_=m*(T*k+C*N)-2*(v*N*k+g*T*C),w=v*N*N-m*T*N+g*T*T,M=(Math.atan2(_,x-w)+Math.PI)%Math.PI/2,b=Math.sin(M),O=Math.cos(M);e.rX=Math.abs(c)/Math.sqrt(x*h(O)+_*b*O+w*h(b)),e.rY=Math.abs(c)/Math.sqrt(x*h(b)-_*b*O+w*h(O)),e.xRot=180*M/Math.PI}return void 0!==e.sweepFlag&&c<0&&(e.sweepFlag=+!e.sweepFlag),e})}(t=s.SVGPathDataTransformer||(s.SVGPathDataTransformer={})).ROUND=function(t){function r(e){return Math.round(e*t)/t}return void 0===t&&(t=1e13),o(t),function(e){return void 0!==e.x1&&(e.x1=r(e.x1)),void 0!==e.y1&&(e.y1=r(e.y1)),void 0!==e.x2&&(e.x2=r(e.x2)),void 0!==e.y2&&(e.y2=r(e.y2)),void 0!==e.x&&(e.x=r(e.x)),void 0!==e.y&&(e.y=r(e.y)),e}},t.TO_ABS=r,t.TO_REL=function(){return u(function(e,t,r){return e.relative||(void 0!==e.x1&&(e.x1-=t),void 0!==e.y1&&(e.y1-=r),void 0!==e.x2&&(e.x2-=t),void 0!==e.y2&&(e.y2-=r),void 0!==e.x&&(e.x-=t),void 0!==e.y&&(e.y-=r),e.relative=!0),e})},t.NORMALIZE_HVZ=function(o,s,a){return void 0===o&&(o=!0),void 0===s&&(s=!0),void 0===a&&(a=!0),u(function(e,t,r,n,i){if(isNaN(n)&&!(e.type&F.MOVE_TO))throw new Error("path must start with moveto");return s&&e.type&F.HORIZ_LINE_TO&&(e.type=F.LINE_TO,e.y=e.relative?0:r),a&&e.type&F.VERT_LINE_TO&&(e.type=F.LINE_TO,e.x=e.relative?0:t),o&&e.type&F.CLOSE_PATH&&(e.type=F.LINE_TO,e.x=e.relative?n-t:n,e.y=e.relative?i-r:i),e.type&F.ARC&&(0===e.rX||0===e.rY)&&(e.type=F.LINE_TO,delete e.rX,delete e.rY,delete e.xRot,delete e.lArcFlag,delete e.sweepFlag),e})},t.NORMALIZE_ST=i,t.QT_TO_C=a,t.INFO=u,t.SANITIZE=function(f){void 0===f&&(f=0),o(f);var p=NaN,y=NaN,v=NaN,m=NaN;return u(function(e,t,r,n,i){var o=Math.abs,s=!1,a=0,u=0;if(e.type&F.SMOOTH_CURVE_TO&&(a=isNaN(p)?0:t-p,u=isNaN(y)?0:r-y),y=e.type&(F.CURVE_TO|F.SMOOTH_CURVE_TO)?(p=e.relative?t+e.x2:e.x2,e.relative?r+e.y2:e.y2):p=NaN,m=e.type&F.SMOOTH_QUAD_TO?(v=isNaN(v)?t:2*t-v,isNaN(m)?r:2*r-m):e.type&F.QUAD_TO?(v=e.relative?t+e.x1:e.x1,e.relative?r+e.y1:e.y2):v=NaN,e.type&F.LINE_COMMANDS||e.type&F.ARC&&(0===e.rX||0===e.rY||!e.lArcFlag)||e.type&F.CURVE_TO||e.type&F.SMOOTH_CURVE_TO||e.type&F.QUAD_TO||e.type&F.SMOOTH_QUAD_TO){var h=void 0===e.x?0:e.relative?e.x:e.x-t,c=void 0===e.y?0:e.relative?e.y:e.y-r;a=isNaN(v)?void 0===e.x1?a:e.relative?e.x:e.x1-t:v-t,u=isNaN(m)?void 0===e.y1?u:e.relative?e.y:e.y1-r:m-r;var l=void 0===e.x2?0:e.relative?e.x:e.x2-t,d=void 0===e.y2?0:e.relative?e.y:e.y2-r;o(h)<=f&&o(c)<=f&&o(a)<=f&&o(u)<=f&&o(l)<=f&&o(d)<=f&&(s=!0)}return e.type&F.CLOSE_PATH&&o(t-n)<=f&&o(r-i)<=f&&(s=!0),s?[]:e})},t.MATRIX=h,t.ROTATE=function(e,t,r){void 0===t&&(t=0),void 0===r&&(r=0),o(e,t,r);var n=Math.sin(e),i=Math.cos(e);return h(i,n,-n,i,t-t*i+r*n,r-t*n-r*i)},t.TRANSLATE=function(e,t){return void 0===t&&(t=0),o(e,t),h(1,0,0,1,e,t)},t.SCALE=function(e,t){return void 0===t&&(t=e),o(e,t),h(e,0,0,t,0,0)},t.SKEW_X=function(e){return o(e),h(1,0,Math.atan(e),1,0,0)},t.SKEW_Y=function(e){return o(e),h(1,Math.atan(e),0,1,0,0)},t.X_AXIS_SYMMETRY=function(e){return void 0===e&&(e=0),o(e),h(-1,0,0,1,e,0)},t.Y_AXIS_SYMMETRY=function(e){return void 0===e&&(e=0),o(e),h(1,0,0,-1,0,e)},t.A_TO_C=function(){return u(function(e,t,r){return F.ARC===e.type?function(o,e,t){var r,n,i,s;o.cX||E(o,e,t);for(var a=Math.min(o.phi1,o.phi2),u=Math.max(o.phi1,o.phi2)-a,h=Math.ceil(u/90),c=new Array(h),l=e,d=t,f=0;f<h;f++){var p=S(o.phi1,o.phi2,f/h),y=S(o.phi1,o.phi2,(f+1)/h),v=y-p,m=4/3*Math.tan(v*R/4),g=[Math.cos(p*R)-m*Math.sin(p*R),Math.sin(p*R)+m*Math.cos(p*R)],x=g[0],_=g[1],w=[Math.cos(y*R),Math.sin(y*R)],M=w[0],b=w[1],O=[M+m*Math.sin(y*R),b-m*Math.cos(y*R)],T=O[0],C=O[1];c[f]={relative:o.relative,type:F.CURVE_TO};var N=function(e,t){var r=k([e*o.rX,t*o.rY],o.xRot),n=r[0],i=r[1];return[o.cX+n,o.cY+i]};r=N(x,_),c[f].x1=r[0],c[f].y1=r[1],n=N(T,C),c[f].x2=n[0],c[f].y2=n[1],i=N(M,b),c[f].x=i[0],c[f].y=i[1],o.relative&&(c[f].x1-=l,c[f].y1-=d,c[f].x2-=l,c[f].y2-=d,c[f].x-=l,c[f].y-=d),l=(s=[c[f].x,c[f].y])[0],d=s[1]}return c}(e,e.relative?0:t,e.relative?0:r):e})},t.ANNOTATE_ARCS=function(){return u(function(e,t,r){return e.relative&&(r=t=0),F.ARC===e.type&&E(e,t,r),e})},t.CLONE=function(){return function(e){var t={};for(var r in e)t[r]=e[r];return t}},t.CALCULATE_BOUNDS=function(){var O=r(),T=a(),C=i(),N=u(function(e,t,r){var n=C(T(O(function(e){var t={};for(var r in e)t[r]=e[r];return t}(e))));function i(e){e>N.maxX&&(N.maxX=e),e<N.minX&&(N.minX=e)}function o(e){e>N.maxY&&(N.maxY=e),e<N.minY&&(N.minY=e)}if(n.type&F.DRAWING_COMMANDS&&(i(t),o(r)),n.type&F.HORIZ_LINE_TO&&i(n.x),n.type&F.VERT_LINE_TO&&o(n.y),n.type&F.LINE_TO&&(i(n.x),o(n.y)),n.type&F.CURVE_TO){i(n.x),o(n.y);for(var s=0,a=I(t,n.x1,n.x2,n.x);s<a.length;s++)0<(b=a[s])&&b<1&&i(D(t,n.x1,n.x2,n.x,b));for(var u=0,h=I(r,n.y1,n.y2,n.y);u<h.length;u++)0<(b=h[u])&&b<1&&o(D(r,n.y1,n.y2,n.y,b))}if(n.type&F.ARC){i(n.x),o(n.y),E(n,t,r);for(var c=n.xRot/180*Math.PI,l=Math.cos(c)*n.rX,d=Math.sin(c)*n.rX,f=-Math.sin(c)*n.rY,p=Math.cos(c)*n.rY,y=n.phi1<n.phi2?[n.phi1,n.phi2]:n.phi2<-180?[n.phi2+360,n.phi1+360]:[n.phi2,n.phi1],v=y[0],m=y[1],g=function(e){var t=e[0],r=e[1],n=180*Math.atan2(r,t)/Math.PI;return n<v?360+n:n},x=0,_=A(f,-l,0).map(g);x<_.length;x++)(b=_[x])>v&&b<m&&i(H(n.cX,l,f,b));for(var w=0,M=A(p,-d,0).map(g);w<M.length;w++){var b;(b=M[w])>v&&b<m&&o(H(n.cY,d,p,b))}}return e});return N.minX=1/0,N.maxX=-1/0,N.minY=1/0,N.maxY=-1/0,N};var c,l,d,f,p=(w.prototype.round=function(e){return this.transform(s.SVGPathDataTransformer.ROUND(e))},w.prototype.toAbs=function(){return this.transform(s.SVGPathDataTransformer.TO_ABS())},w.prototype.toRel=function(){return this.transform(s.SVGPathDataTransformer.TO_REL())},w.prototype.normalizeHVZ=function(e,t,r){return this.transform(s.SVGPathDataTransformer.NORMALIZE_HVZ(e,t,r))},w.prototype.normalizeST=function(){return this.transform(s.SVGPathDataTransformer.NORMALIZE_ST())},w.prototype.qtToC=function(){return this.transform(s.SVGPathDataTransformer.QT_TO_C())},w.prototype.aToC=function(){return this.transform(s.SVGPathDataTransformer.A_TO_C())},w.prototype.sanitize=function(e){return this.transform(s.SVGPathDataTransformer.SANITIZE(e))},w.prototype.translate=function(e,t){return this.transform(s.SVGPathDataTransformer.TRANSLATE(e,t))},w.prototype.scale=function(e,t){return this.transform(s.SVGPathDataTransformer.SCALE(e,t))},w.prototype.rotate=function(e,t,r){return this.transform(s.SVGPathDataTransformer.ROTATE(e,t,r))},w.prototype.matrix=function(e,t,r,n,i,o){return this.transform(s.SVGPathDataTransformer.MATRIX(e,t,r,n,i,o))},w.prototype.skewX=function(e){return this.transform(s.SVGPathDataTransformer.SKEW_X(e))},w.prototype.skewY=function(e){return this.transform(s.SVGPathDataTransformer.SKEW_Y(e))},w.prototype.xSymmetry=function(e){return this.transform(s.SVGPathDataTransformer.X_AXIS_SYMMETRY(e))},w.prototype.ySymmetry=function(e){return this.transform(s.SVGPathDataTransformer.Y_AXIS_SYMMETRY(e))},w.prototype.annotateArcs=function(){return this.transform(s.SVGPathDataTransformer.ANNOTATE_ARCS())},w),y=(e(_,f=p),_.prototype.finish=function(e){if(void 0===e&&(e=[]),this.parse(" ",e),0!==this.curArgs.length||!this.canParseCommandOrComma)throw new SyntaxError("Unterminated command at the path end.");return e},_.prototype.parse=function(e,t){var r,n,i=this;void 0===t&&(t=[]);for(var o=function(e){t.push(e),i.curArgs.length=0,i.canParseCommandOrComma=!0},s=0;s<e.length;s++){var a=e[s];if(n=a,"0".charCodeAt(0)<=n.charCodeAt(0)&&n.charCodeAt(0)<="9".charCodeAt(0))this.curNumber+=a,this.curNumberHasExpDigits=this.curNumberHasExp;else if("e"!==a&&"E"!==a)if("-"!==a&&"+"!==a||!this.curNumberHasExp||this.curNumberHasExpDigits)if("."!==a||this.curNumberHasExp||this.curNumberHasDecimal){if(this.curNumber&&-1!==this.curCommandType){var u=Number(this.curNumber);if(isNaN(u))throw new SyntaxError("Invalid number ending at "+s);if(this.curCommandType===F.ARC)if(0===this.curArgs.length||1===this.curArgs.length){if(u<0)throw new SyntaxError('Expected positive number, got "'+u+'" at index "'+s+'"')}else if((3===this.curArgs.length||4===this.curArgs.length)&&"0"!==this.curNumber&&"1"!==this.curNumber)throw new SyntaxError('Expected a flag, got "'+this.curNumber+'" at index "'+s+'"');this.curArgs.push(u),this.curArgs.length===m[this.curCommandType]&&(F.HORIZ_LINE_TO===this.curCommandType?o({type:F.HORIZ_LINE_TO,relative:this.curCommandRelative,x:u}):F.VERT_LINE_TO===this.curCommandType?o({type:F.VERT_LINE_TO,relative:this.curCommandRelative,y:u}):this.curCommandType===F.MOVE_TO||this.curCommandType===F.LINE_TO||this.curCommandType===F.SMOOTH_QUAD_TO?(o({type:this.curCommandType,relative:this.curCommandRelative,x:this.curArgs[0],y:this.curArgs[1]}),F.MOVE_TO===this.curCommandType&&(this.curCommandType=F.LINE_TO)):this.curCommandType===F.CURVE_TO?o({type:F.CURVE_TO,relative:this.curCommandRelative,x1:this.curArgs[0],y1:this.curArgs[1],x2:this.curArgs[2],y2:this.curArgs[3],x:this.curArgs[4],y:this.curArgs[5]}):this.curCommandType===F.SMOOTH_CURVE_TO?o({type:F.SMOOTH_CURVE_TO,relative:this.curCommandRelative,x2:this.curArgs[0],y2:this.curArgs[1],x:this.curArgs[2],y:this.curArgs[3]}):this.curCommandType===F.QUAD_TO?o({type:F.QUAD_TO,relative:this.curCommandRelative,x1:this.curArgs[0],y1:this.curArgs[1],x:this.curArgs[2],y:this.curArgs[3]}):this.curCommandType===F.ARC&&o({type:F.ARC,relative:this.curCommandRelative,rX:this.curArgs[0],rY:this.curArgs[1],xRot:this.curArgs[2],lArcFlag:this.curArgs[3],sweepFlag:this.curArgs[4],x:this.curArgs[5],y:this.curArgs[6]})),this.curNumber="",this.curNumberHasExpDigits=!1,this.curNumberHasExp=!1,this.curNumberHasDecimal=!1,this.canParseCommandOrComma=!0}if(" "!==(r=a)&&"\t"!==r&&"\r"!==r&&"\n"!==r)if(","===a&&this.canParseCommandOrComma)this.canParseCommandOrComma=!1;else if("+"!==a&&"-"!==a&&"."!==a){if(0!==this.curArgs.length)throw new SyntaxError("Unterminated command at index "+s+".");if(!this.canParseCommandOrComma)throw new SyntaxError('Unexpected character "'+a+'" at index '+s+". Command cannot follow comma");if(this.canParseCommandOrComma=!1,"z"!==a&&"Z"!==a)if("h"===a||"H"===a)this.curCommandType=F.HORIZ_LINE_TO,this.curCommandRelative="h"===a;else if("v"===a||"V"===a)this.curCommandType=F.VERT_LINE_TO,this.curCommandRelative="v"===a;else if("m"===a||"M"===a)this.curCommandType=F.MOVE_TO,this.curCommandRelative="m"===a;else if("l"===a||"L"===a)this.curCommandType=F.LINE_TO,this.curCommandRelative="l"===a;else if("c"===a||"C"===a)this.curCommandType=F.CURVE_TO,this.curCommandRelative="c"===a;else if("s"===a||"S"===a)this.curCommandType=F.SMOOTH_CURVE_TO,this.curCommandRelative="s"===a;else if("q"===a||"Q"===a)this.curCommandType=F.QUAD_TO,this.curCommandRelative="q"===a;else if("t"===a||"T"===a)this.curCommandType=F.SMOOTH_QUAD_TO,this.curCommandRelative="t"===a;else{if("a"!==a&&"A"!==a)throw new SyntaxError('Unexpected character "'+a+'" at index '+s+".");this.curCommandType=F.ARC,this.curCommandRelative="a"===a}else t.push({type:F.CLOSE_PATH}),this.canParseCommandOrComma=!0,this.curCommandType=-1}else this.curNumber=a,this.curNumberHasDecimal="."===a}else this.curNumber+=a,this.curNumberHasDecimal=!0;else this.curNumber+=a;else this.curNumber+=a,this.curNumberHasExp=!0}return t},_.prototype.transform=function(s){return Object.create(this,{parse:{value:function(e,t){void 0===t&&(t=[]);for(var r=0,n=Object.getPrototypeOf(this).parse.call(this,e);r<n.length;r++){var i=n[r],o=s(i);Array.isArray(o)?t.push.apply(t,o):t.push(o)}return t}}})},_),F=(e(x,d=p),x.prototype.encode=function(){return x.encode(this.commands)},x.prototype.getBounds=function(){var e=s.SVGPathDataTransformer.CALCULATE_BOUNDS();return this.transform(e),e},x.prototype.transform=function(e){for(var t=[],r=0,n=this.commands;r<n.length;r++){var i=e(n[r]);Array.isArray(i)?t.push.apply(t,i):t.push(i)}return this.commands=t,this},x.encode=function(e){return M(e)},x.parse=function(e){var t=new y,r=[];return t.parse(e,r),t.finish(r),r},x.CLOSE_PATH=1,x.MOVE_TO=2,x.HORIZ_LINE_TO=4,x.VERT_LINE_TO=8,x.LINE_TO=16,x.CURVE_TO=32,x.SMOOTH_CURVE_TO=64,x.QUAD_TO=128,x.SMOOTH_QUAD_TO=256,x.ARC=512,x.LINE_COMMANDS=x.LINE_TO|x.HORIZ_LINE_TO|x.VERT_LINE_TO,x.DRAWING_COMMANDS=x.HORIZ_LINE_TO|x.VERT_LINE_TO|x.LINE_TO|x.CURVE_TO|x.SMOOTH_CURVE_TO|x.QUAD_TO|x.SMOOTH_QUAD_TO|x.ARC,x),m=((c={})[F.MOVE_TO]=2,c[F.LINE_TO]=2,c[F.HORIZ_LINE_TO]=1,c[F.VERT_LINE_TO]=1,c[F.CLOSE_PATH]=0,c[F.QUAD_TO]=4,c[F.SMOOTH_QUAD_TO]=2,c[F.CURVE_TO]=6,c[F.SMOOTH_CURVE_TO]=4,c[F.ARC]=7,c),g=" ";function x(e){var t=d.call(this)||this;return t.commands="string"==typeof e?x.parse(e):e,t}function _(){var e=f.call(this)||this;return e.curNumber="",e.curCommandType=-1,e.curCommandRelative=!1,e.canParseCommandOrComma=!0,e.curNumberHasExp=!1,e.curNumberHasExpDigits=!1,e.curNumberHasDecimal=!1,e.curArgs=[],e}function w(){}function M(e){var t="";Array.isArray(e)||(e=[e]);for(var r=0;r<e.length;r++){var n=e[r];if(n.type===F.CLOSE_PATH)t+="z";else if(n.type===F.HORIZ_LINE_TO)t+=(n.relative?"h":"H")+n.x;else if(n.type===F.VERT_LINE_TO)t+=(n.relative?"v":"V")+n.y;else if(n.type===F.MOVE_TO)t+=(n.relative?"m":"M")+n.x+g+n.y;else if(n.type===F.LINE_TO)t+=(n.relative?"l":"L")+n.x+g+n.y;else if(n.type===F.CURVE_TO)t+=(n.relative?"c":"C")+n.x1+g+n.y1+g+n.x2+g+n.y2+g+n.x+g+n.y;else if(n.type===F.SMOOTH_CURVE_TO)t+=(n.relative?"s":"S")+n.x2+g+n.y2+g+n.x+g+n.y;else if(n.type===F.QUAD_TO)t+=(n.relative?"q":"Q")+n.x1+g+n.y1+g+n.x+g+n.y;else if(n.type===F.SMOOTH_QUAD_TO)t+=(n.relative?"t":"T")+n.x+g+n.y;else{if(n.type!==F.ARC)throw new Error('Unexpected command type "'+n.type+'" at index '+r+".");t+=(n.relative?"a":"A")+n.rX+g+n.rY+g+n.xRot+g+ +n.lArcFlag+g+ +n.sweepFlag+g+n.x+g+n.y}}return t}var b,O=(e(C,b=p),C.prototype.encode=function(){return C.encode(this.commands)},C.prototype.getBounds=function(){var e=s.SVGPathDataTransformer.CALCULATE_BOUNDS();return this.transform(e),e},C.prototype.transform=function(e){for(var t=[],r=0,n=this.commands;r<n.length;r++){var i=e(n[r]);Array.isArray(i)?t.push.apply(t,i):t.push(i)}return this.commands=t,this},C.encode=function(e){return M(e)},C.parse=function(e){var t=new y,r=[];return t.parse(e,r),t.finish(r),r},C.CLOSE_PATH=1,C.MOVE_TO=2,C.HORIZ_LINE_TO=4,C.VERT_LINE_TO=8,C.LINE_TO=16,C.CURVE_TO=32,C.SMOOTH_CURVE_TO=64,C.QUAD_TO=128,C.SMOOTH_QUAD_TO=256,C.ARC=512,C.LINE_COMMANDS=C.LINE_TO|C.HORIZ_LINE_TO|C.VERT_LINE_TO,C.DRAWING_COMMANDS=C.HORIZ_LINE_TO|C.VERT_LINE_TO|C.LINE_TO|C.CURVE_TO|C.SMOOTH_CURVE_TO|C.QUAD_TO|C.SMOOTH_QUAD_TO|C.ARC,C),T=((l={})[O.MOVE_TO]=2,l[O.LINE_TO]=2,l[O.HORIZ_LINE_TO]=1,l[O.VERT_LINE_TO]=1,l[O.CLOSE_PATH]=0,l[O.QUAD_TO]=4,l[O.SMOOTH_QUAD_TO]=2,l[O.CURVE_TO]=6,l[O.SMOOTH_CURVE_TO]=4,l[O.ARC]=7,l);function C(e){var t=b.call(this)||this;return t.commands="string"==typeof e?C.parse(e):e,t}s.SVGPathData=O,s.COMMAND_ARG_COUNTS=T,s.encodeSVGPath=M,s.SVGPathDataParser=y,Object.defineProperty(s,"__esModule",{value:!0})},"object"==_typeof2(r)&&void 0!==t?i(r):"function"==typeof define&&define.amd?define(["exports"],i):i(n.svgpathdata={})},{}],13:[function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.valid=r.toPoints=r.toPath=void 0;var n=s(e("./toPath")),i=s(e("./toPoints")),o=s(e("./valid"));function s(e){return e&&e.__esModule?e:{default:e}}r.toPath=n.default,r.toPoints=i.default,r.valid=o.default},{"./toPath":14,"./toPoints":15,"./valid":16}],14:[function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});var n,i=e("./toPoints"),o=(n=i)&&n.__esModule?n:{default:n};function s(e){var t="",r=0,n=void 0,i=!0,o=!1,s=void 0;try{for(var a,u=e[Symbol.iterator]();!(i=(a=u.next()).done);i=!0){var h=a.value,c=h.curve,l=void 0!==c&&c,d=h.moveTo,f=h.x,p=h.y,y=0===r||d,v=r===e.length-1||e[r+1].moveTo,m=0===r?null:e[r-1];if(y)n=h,v||(t+="M"+f+","+p);else if(l){switch(l.type){case"arc":var g=h.curve,x=g.largeArcFlag,_=void 0===x?0:x,w=g.rx,M=g.ry,b=g.sweepFlag,O=void 0===b?0:b,T=g.xAxisRotation;t+="A"+w+","+M+","+(void 0===T?0:T)+","+_+","+O+","+f+","+p;break;case"cubic":var C=h.curve;t+="C"+C.x1+","+C.y1+","+C.x2+","+C.y2+","+f+","+p;break;case"quadratic":var N=h.curve;t+="Q"+N.x1+","+N.y1+","+f+","+p}v&&f===n.x&&p===n.y&&(t+="Z")}else v&&f===n.x&&p===n.y?t+="Z":f!==m.x&&p!==m.y?t+="L"+f+","+p:f!==m.x?t+="H"+f:p!==m.y&&(t+="V"+p);r++}}catch(e){o=!0,s=e}finally{try{!i&&u.return&&u.return()}finally{if(o)throw s}}return t}r.default=function(e){var t=Array.isArray(e),r=t?Array.isArray(e[0]):"g"===e.type,n=t?e:r?e.shapes.map(function(e){return(0,o.default)(e)}):(0,o.default)(e);return r?n.map(function(e){return s(e)}):s(n)}},{"./toPoints":15}],15:[function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};function i(e){var t=e.type,r=function(e,t){var r={};for(var n in e)0<=t.indexOf(n)||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}(e,["type"]);switch(t){case"circle":return o(r);case"ellipse":return s(r);case"line":return a(r);case"path":return u(r);case"polygon":return h(r);case"polyline":return c(r);case"rect":return d(r);case"g":return y(r);default:throw new Error("Not a valid shape type")}}var o=function(e){var t=e.cx,r=e.cy,n=e.r;return[{x:t,y:r-n,moveTo:!0},{x:t,y:r+n,curve:{type:"arc",rx:n,ry:n,sweepFlag:1}},{x:t,y:r-n,curve:{type:"arc",rx:n,ry:n,sweepFlag:1}}]},s=function(e){var t=e.cx,r=e.cy,n=e.rx,i=e.ry;return[{x:t,y:r-i,moveTo:!0},{x:t,y:r+i,curve:{type:"arc",rx:n,ry:i,sweepFlag:1}},{x:t,y:r-i,curve:{type:"arc",rx:n,ry:i,sweepFlag:1}}]},a=function(e){var t=e.x1,r=e.x2;return[{x:t,y:e.y1,moveTo:!0},{x:r,y:e.y2}]},V=/[MmLlHhVvCcSsQqTtAaZz]/g,B={A:7,C:6,H:1,L:2,M:2,Q:4,S:4,T:2,V:1,Z:0},q=["a","c","h","l","m","q","s","t","v"],U=["xAxisRotation","largeArcFlag","sweepFlag"],u=function(e){for(var t,r=e.d,n=r.match(V),i=r.split(V).map(function(e){return e.replace(/[0-9]+-/g,function(e){return e.slice(0,-1)+" -"})}).map(function(e){return e.replace(/\.[0-9]+/g,function(e){return e+" "})}).map(function(e){return e.trim()}).filter(function(e){return 0<e.length}).map(function(e){return e.split(/[ ,]+/).map(parseFloat).filter(function(e){return!isNaN(e)})}),o=[],s=void 0,a=0,u=n.length;a<u;a++){var h=n[a],c=h.toUpperCase(),l=B[c],d=(t=h,-1!==q.indexOf(t));if(0<l)for(var f=i.shift(),p=f.length/l,y=0;y<p;y++){var v=o[o.length-1]||{x:0,y:0};switch(c){case"M":var m=(d?v.x:0)+f.shift(),g=(d?v.y:0)+f.shift();0===y?(s={x:m,y:g},o.push({x:m,y:g,moveTo:!0})):o.push({x:m,y:g});break;case"L":o.push({x:(d?v.x:0)+f.shift(),y:(d?v.y:0)+f.shift()});break;case"H":o.push({x:(d?v.x:0)+f.shift(),y:v.y});break;case"V":o.push({x:v.x,y:(d?v.y:0)+f.shift()});break;case"A":o.push({curve:{type:"arc",rx:f.shift(),ry:f.shift(),xAxisRotation:f.shift(),largeArcFlag:f.shift(),sweepFlag:f.shift()},x:(d?v.x:0)+f.shift(),y:(d?v.y:0)+f.shift()});var x=!0,_=!1,w=void 0;try{for(var M,b=U[Symbol.iterator]();!(x=(M=b.next()).done);x=!0){var O=M.value;0===o[o.length-1].curve[O]&&delete o[o.length-1].curve[O]}}catch(e){_=!0,w=e}finally{try{!x&&b.return&&b.return()}finally{if(_)throw w}}break;case"C":o.push({curve:{type:"cubic",x1:(d?v.x:0)+f.shift(),y1:(d?v.y:0)+f.shift(),x2:(d?v.x:0)+f.shift(),y2:(d?v.y:0)+f.shift()},x:(d?v.x:0)+f.shift(),y:(d?v.y:0)+f.shift()});break;case"S":var T=(d?v.x:0)+f.shift(),C=(d?v.y:0)+f.shift(),N=(d?v.x:0)+f.shift(),k=(d?v.y:0)+f.shift(),E={},A=void 0,R=void 0;R=v.curve&&"cubic"===v.curve.type?(E.x=Math.abs(v.x-v.curve.x2),E.y=Math.abs(v.y-v.curve.y2),A=v.x<v.curve.x2?v.x-E.x:v.x+E.x,v.y<v.curve.y2?v.y-E.y:v.y+E.y):(E.x=Math.abs(N-T),E.y=Math.abs(k-C),A=v.x,v.y),o.push({curve:{type:"cubic",x1:A,y1:R,x2:T,y2:C},x:N,y:k});break;case"Q":o.push({curve:{type:"quadratic",x1:(d?v.x:0)+f.shift(),y1:(d?v.y:0)+f.shift()},x:(d?v.x:0)+f.shift(),y:(d?v.y:0)+f.shift()});break;case"T":var S=(d?v.x:0)+f.shift(),H=(d?v.y:0)+f.shift(),I=void 0,D=void 0;if(v.curve&&"quadratic"===v.curve.type){var F=Math.abs(v.x-v.curve.x1),L=Math.abs(v.y-v.curve.y1);I=v.x<v.curve.x1?v.x-F:v.x+F,D=v.y<v.curve.y1?v.y-L:v.y+L}else I=v.x,D=v.y;o.push({curve:{type:"quadratic",x1:I,y1:D},x:S,y:H})}}else{var P=o[o.length-1]||{x:0,y:0};P.x===s.x&&P.y===s.y||o.push({x:s.x,y:s.y})}}return o},h=function(e){var t=e.points;return l({closed:!0,points:t})},c=function(e){var t=e.points;return l({closed:!1,points:t})},l=function(e){var t=e.closed,r=e.points.split(/[\s,]+/).map(function(e){return parseFloat(e)}).reduce(function(e,t,r){return r%2==0?e.push({x:t}):e[(r-1)/2].y=t,e},[]);return t&&r.push(n({},r[0])),r[0].moveTo=!0,r},d=function(e){var t=e.height,r=e.rx,n=e.ry,i=e.width,o=e.x,s=e.y;return r||n?p({height:t,rx:r||n,ry:n||r,width:i,x:o,y:s}):f({height:t,width:i,x:o,y:s})},f=function(e){var t=e.height,r=e.width,n=e.x,i=e.y;return[{x:n,y:i,moveTo:!0},{x:n+r,y:i},{x:n+r,y:i+t},{x:n,y:i+t},{x:n,y:i}]},p=function(e){var t=e.height,r=e.rx,n=e.ry,i=e.width,o=e.x,s=e.y,a={type:"arc",rx:r,ry:n,sweepFlag:1};return[{x:o+r,y:s,moveTo:!0},{x:o+i-r,y:s},{x:o+i,y:s+n,curve:a},{x:o+i,y:s+t-n},{x:o+i-r,y:s+t,curve:a},{x:o+r,y:s+t},{x:o,y:s+t-n,curve:a},{x:o,y:s+n},{x:o+r,y:s,curve:a}]},y=function(e){return e.shapes.map(function(e){return i(e)})};r.default=i},{}],16:[function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});var a="function"==typeof Symbol&&"symbol"===_typeof2(Symbol.iterator)?function(e){return _typeof2(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof2(e)},n=function(e){var t=[{match:["circle","ellipse","line","path","polygon","polyline","rect","g"],prop:"type",required:!0,type:"string"}];switch(e.type){case"circle":t.push({prop:"cx",required:!0,type:"number"}),t.push({prop:"cy",required:!0,type:"number"}),t.push({prop:"r",required:!0,type:"number"});break;case"ellipse":t.push({prop:"cx",required:!0,type:"number"}),t.push({prop:"cy",required:!0,type:"number"}),t.push({prop:"rx",required:!0,type:"number"}),t.push({prop:"ry",required:!0,type:"number"});break;case"line":t.push({prop:"x1",required:!0,type:"number"}),t.push({prop:"x2",required:!0,type:"number"}),t.push({prop:"y1",required:!0,type:"number"}),t.push({prop:"y2",required:!0,type:"number"});break;case"path":t.push({prop:"d",required:!0,type:"string"});break;case"polygon":case"polyline":t.push({prop:"points",required:!0,type:"string"});break;case"rect":t.push({prop:"height",required:!0,type:"number"}),t.push({prop:"rx",type:"number"}),t.push({prop:"ry",type:"number"}),t.push({prop:"width",required:!0,type:"number"}),t.push({prop:"x",required:!0,type:"number"}),t.push({prop:"y",required:!0,type:"number"});break;case"g":t.push({prop:"shapes",required:!0,type:"array"})}return t};r.default=function(e){var t=function t(o){var e=n(o),s=[];if(e.map(function(e){var t=e.match,r=e.prop,n=e.required,i=e.type;void 0===o[r]?n&&s.push(r+" prop is required"+("type"===r?"":" on a "+o.type)):(void 0!==i&&("array"===i?Array.isArray(o[r])||s.push(r+" prop must be of type array"):a(o[r])!==i&&s.push(r+" prop must be of type "+i)),Array.isArray(t)&&-1===t.indexOf(o[r])&&s.push(r+" prop must be one of "+t.join(", ")))}),"g"===o.type&&Array.isArray(o.shapes)){var r=o.shapes.map(function(e){return t(e)});return[].concat.apply(s,r)}return s}(e);return{errors:t,valid:0===t.length}}},{}],17:[function(e,t,r){function n(e,t){if(!(this instanceof n))return new n(e,t);if(this.data=e||[],this.length=this.data.length,this.compare=t||i,0<this.length)for(var r=(this.length>>1)-1;0<=r;r--)this._down(r)}function i(e,t){return e<t?-1:t<e?1:0}t.exports=n,(t.exports.default=n).prototype={push:function(e){this.data.push(e),this.length++,this._up(this.length-1)},pop:function(){if(0!==this.length){var e=this.data[0];return this.length--,0<this.length&&(this.data[0]=this.data[this.length],this._down(0)),this.data.pop(),e}},peek:function(){return this.data[0]},_up:function(e){for(var t=this.data,r=this.compare,n=t[e];0<e;){var i=e-1>>1,o=t[i];if(0<=r(n,o))break;t[e]=o,e=i}t[e]=n},_down:function(e){for(var t=this.data,r=this.compare,n=this.length>>1,i=t[e];e<n;){var o=1+(e<<1),s=o+1,a=t[o];if(s<this.length&&r(t[s],a)<0&&(a=t[o=s]),0<=r(a,i))break;t[e]=a,e=o}t[e]=i}}},{}],18:[function(e,a,t){!function e(t,r,n){var i=function(e){return"[object Array]"===Object.prototype.toString.call(e)};function o(e,t){if(!(this instanceof o))return new o(e,t);i(e)?(t=e[1],e=e[0]):"object"===_typeof2(e)&&e&&(t=e.y,e=e.x),this.x=o.clean(e||0),this.y=o.clean(t||0)}o.prototype={change:function(e){if("function"==typeof e)this.observers?this.observers.push(e):this.observers=[e];else if(this.observers&&this.observers.length)for(var t=this.observers.length-1;0<=t;t--)this.observers[t](this,e);return this},ignore:function(e){if(this.observers)if(e)for(var t=this.observers,r=t.length;r--;)t[r]===e&&t.splice(r,1);else this.observers=[];return this},set:function(e,t,r){if("number"!=typeof e&&(r=t,t=e.y,e=e.x),this.x===e&&this.y===t)return this;var n=null;return!1!==r&&this.observers&&this.observers.length&&(n=this.clone()),this.x=o.clean(e),this.y=o.clean(t),!1!==r?this.change(n):void 0},zero:function(){return this.set(0,0)},clone:function(){return new this.constructor(this.x,this.y)},negate:function(e){return e?new this.constructor(-this.x,-this.y):this.set(-this.x,-this.y)},add:function(e,t,r){return"number"!=typeof e&&(r=t,e=i(e)?(t=e[1],e[0]):(t=e.y,e.x)),e+=this.x,t+=this.y,r?new this.constructor(e,t):this.set(e,t)},subtract:function(e,t,r){return"number"!=typeof e&&(r=t,e=i(e)?(t=e[1],e[0]):(t=e.y,e.x)),e=this.x-e,t=this.y-t,r?new this.constructor(e,t):this.set(e,t)},multiply:function(e,t,r){return"number"!=typeof e?(r=t,e=i(e)?(t=e[1],e[0]):(t=e.y,e.x)):"number"!=typeof t&&(r=t,t=e),e*=this.x,t*=this.y,r?new this.constructor(e,t):this.set(e,t)},rotate:function(e,t,r){var n,i,o=this.x,s=this.y,a=Math.cos(e),u=Math.sin(e);return n=a*o-(t=t?-1:1)*u*s,i=t*u*o+a*s,r?new this.constructor(n,i):this.set(n,i)},length:function(){var e=this.x,t=this.y;return Math.sqrt(e*e+t*t)},lengthSquared:function(){var e=this.x,t=this.y;return e*e+t*t},distance:function(e){var t=this.x-e.x,r=this.y-e.y;return Math.sqrt(t*t+r*r)},nearest:function(e){for(var t,r=Number.MAX_VALUE,n=null,i=e.length-1;0<=i;i--)(t=this.distance(e[i]))<=r&&(r=t,n=e[i]);return n},normalize:function(e){var t=this.length(),r=t<Number.MIN_VALUE?0:1/t;return e?new this.constructor(this.x*r,this.y*r):this.set(this.x*r,this.y*r)},equal:function(e,t){return"number"!=typeof e&&(e=i(e)?(t=e[1],e[0]):(t=e.y,e.x)),o.clean(e)===this.x&&o.clean(t)===this.y},abs:function(e){var t=Math.abs(this.x),r=Math.abs(this.y);return e?new this.constructor(t,r):this.set(t,r)},min:function(e,t){var r=this.x,n=this.y,i=e.x,o=e.y,s=r<i?r:i,a=n<o?n:o;return t?new this.constructor(s,a):this.set(s,a)},max:function(e,t){var r=this.x,n=this.y,i=e.x,o=e.y,s=i<r?r:i,a=o<n?n:o;return t?new this.constructor(s,a):this.set(s,a)},clamp:function(e,t,r){var n=this.min(t,!0).max(e);return r?n:this.set(n.x,n.y)},lerp:function(e,t,r){return this.add(e.subtract(this,!0).multiply(t),r)},skew:function(e){return e?new this.constructor(-this.y,this.x):this.set(-this.y,this.x)},dot:function(e){return o.clean(this.x*e.x+e.y*this.y)},perpDot:function(e){return o.clean(this.x*e.y-this.y*e.x)},angleTo:function(e){return Math.atan2(this.perpDot(e),this.dot(e))},divide:function(e,t,r){if("number"!=typeof e?(r=t,e=i(e)?(t=e[1],e[0]):(t=e.y,e.x)):"number"!=typeof t&&(r=t,t=e),0===e||0===t)throw new Error("division by zero");if(isNaN(e)||isNaN(t))throw new Error("NaN detected");return r?new this.constructor(this.x/e,this.y/t):this.set(this.x/e,this.y/t)},isPointOnLine:function(e,t){return(e.y-this.y)*(e.x-t.x)==(e.y-t.y)*(e.x-this.x)},toArray:function(){return[this.x,this.y]},fromArray:function(e){return this.set(e[0],e[1])},toJSON:function(){return{x:this.x,y:this.y}},toString:function(){return"("+this.x+", "+this.y+")"},constructor:o},o.fromArray=function(e,t){return new(t||o)(e[0],e[1])},o.precision=r||8;var s=Math.pow(10,o.precision);return o.clean=t||function(e){if(isNaN(e))throw new Error("NaN detected");if(!isFinite(e))throw new Error("Infinity detected");return Math.round(e)===e?e:Math.round(e*s)/s},o.inject=e,t||(o.fast=e(function(e){return e}),void 0!==a&&"object"==_typeof2(a.exports)?a.exports=o:window.Vec2=window.Vec2||o),o}()},{}],19:[function(e,t,r){var n=function(){function t(e){_classCallCheck(this,t),this.world=e,this.getElements(),this.loadInitialValues(),this.setupValueChangeListeners()}return _createClass(t,[{key:"getElements",value:function(){this.minDistanceRange=document.querySelector(".parameters-content #min-distance"),this.minDistanceValue=document.querySelector(".parameters-content #min-distance + .value"),this.maxDistanceRange=document.querySelector(".parameters-content #max-distance"),this.maxDistanceValue=document.querySelector(".parameters-content #max-distance + .value"),this.repulsionRadiusRange=document.querySelector(".parameters-content #repulsion-radius"),this.repulsionRadiusValue=document.querySelector(".parameters-content #repulsion-radius + .value"),this.attractionForceRange=document.querySelector(".parameters-content #attraction-force"),this.attractionForceValue=document.querySelector(".parameters-content #attraction-force + .value"),this.repulsionForceRange=document.querySelector(".parameters-content #repulsion-force"),this.repulsionForceValue=document.querySelector(".parameters-content #repulsion-force + .value"),this.alignmentForceRange=document.querySelector(".parameters-content #alignment-force"),this.alignmentForceValue=document.querySelector(".parameters-content #alignment-force + .value"),this.drawNodesCheckbox=document.querySelector(".parameters-content #draw-nodes"),this.fillModeCheckbox=document.querySelector(".parameters-content #fill-mode"),this.debugModeCheckbox=document.querySelector(".parameters-content #debug-mode"),this.invertedColorsCheckbox=document.querySelector(".parameters-content #inverted-colors"),this.traceModeCheckbox=document.querySelector(".parameters-content #trace-mode"),this.drawHistoryCheckbox=document.querySelector(".parameters-content #draw-history"),this.historyIntervalRange=document.querySelector(".parameters-content #history-capture-interval"),this.historyIntervalValue=document.querySelector(".parameters-content #history-capture-interval + .value"),this.maxHistoryRange=document.querySelector(".parameters-content #max-history-size"),this.maxHistoryValue=document.querySelector(".parameters-content #max-history-size + .value"),this.brownianMotionCheckbox=document.querySelector(".parameters-content #use-brownian-motion"),this.brownianMotionRange=document.querySelector(".parameters-content #brownian-motion-range"),this.brownianMotionValue=document.querySelector(".parameters-content #brownian-motion-range + .value")}},{key:"loadInitialValues",value:function(){this.minDistanceRange.value=this.world.settings.MinDistance,this.minDistanceValue.innerHTML=this.world.settings.MinDistance,this.maxDistanceRange.value=this.world.settings.MaxDistance,this.maxDistanceValue.innerHTML=this.world.settings.MaxDistance,this.repulsionRadiusRange.value=this.world.settings.RepulsionRadius,this.repulsionRadiusValue.innerHTML=this.world.settings.RepulsionRadius,this.attractionForceRange.value=this.world.settings.AttractionForce,this.attractionForceValue.innerHTML=this.world.settings.AttractionForce,this.repulsionForceRange.value=this.world.settings.RepulsionForce,this.repulsionForceValue.innerHTML=this.world.settings.RepulsionForce,this.alignmentForceRange.value=this.world.settings.AlignmentForce,this.alignmentForceValue.innerHTML=this.world.settings.AlignmentForce,this.drawNodesCheckbox.checked=this.world.settings.DrawNodes,this.fillModeCheckbox.checked=this.world.settings.FillMode,this.debugModeCheckbox.checked=this.world.settings.DebugMode,this.invertedColorsCheckbox.checked=this.world.settings.InvertedColors,this.traceModeCheckbox.checked=this.world.settings.TraceMode,this.drawHistoryCheckbox.checked=this.world.settings.DrawHistory,this.historyIntervalRange.value=this.world.settings.HistoryCaptureInterval,this.historyIntervalValue.innerHTML=this.world.settings.HistoryCaptureInterval,this.maxHistoryRange.value=this.world.settings.MaxHistorySize,this.maxHistoryValue.innerHTML=this.world.settings.MaxHistorySize,this.brownianMotionCheckbox.checked=this.world.settings.UseBrownianMotion,this.brownianMotionRange.value=this.world.settings.BrownianMotionRange,this.brownianMotionValue.innerHTML=this.world.settings.BrownianMotionRange}},{key:"setupValueChangeListeners",value:function(){this.minDistanceRange.addEventListener("input",this.minDistanceChangeHandler.bind(this)),this.maxDistanceRange.addEventListener("input",this.maxDistanceChangeHandler.bind(this)),this.repulsionRadiusRange.addEventListener("input",this.repulsionRadiusChangeHandler.bind(this)),this.attractionForceRange.addEventListener("input",this.attractionForceChangeHandler.bind(this)),this.repulsionForceRange.addEventListener("input",this.repulsionForceChangeHandler.bind(this)),this.alignmentForceRange.addEventListener("input",this.alignmentForceChangeHandler.bind(this)),this.drawNodesCheckbox.addEventListener("change",this.drawNodesChangeHandler.bind(this)),this.fillModeCheckbox.addEventListener("change",this.fillModeChangeHandler.bind(this)),this.debugModeCheckbox.addEventListener("change",this.debugModeChangeHandler.bind(this)),this.invertedColorsCheckbox.addEventListener("change",this.invertedColorsChangeHandler.bind(this)),this.traceModeCheckbox.addEventListener("change",this.traceModeChangeHandler.bind(this)),this.drawHistoryCheckbox.addEventListener("change",this.drawHistoryChangeHandler.bind(this)),this.historyIntervalRange.addEventListener("input",this.historyIntervalChangeHandler.bind(this)),this.maxHistoryRange.addEventListener("input",this.maxHistoryChangeHandler.bind(this)),this.brownianMotionCheckbox.addEventListener("change",this.brownianMotionChangeHandler.bind(this)),this.brownianMotionRange.addEventListener("input",this.brownianMotionRangeChangeHandler.bind(this))}},{key:"minDistanceChangeHandler",value:function(e){this.minDistanceValue.innerHTML=e.target.value,this.world.setMinDistance(e.target.value)}},{key:"maxDistanceChangeHandler",value:function(e){this.maxDistanceValue.innerHTML=e.target.value,this.world.setMaxDistance(e.target.value)}},{key:"repulsionRadiusChangeHandler",value:function(e){this.repulsionRadiusValue.innerHTML=e.target.value,this.world.setRepulsionRadius(e.target.value)}},{key:"attractionForceChangeHandler",value:function(e){this.attractionForceValue.innerHTML=e.target.value,this.world.setAttractionForce(e.target.value)}},{key:"repulsionForceChangeHandler",value:function(e){this.repulsionForceValue.innerHTML=e.target.value,this.world.setRepulsionForce(e.target.value)}},{key:"alignmentForceChangeHandler",value:function(e){this.alignmentForceValue.innerHTML=e.target.value,this.world.setAlignmentForce(e.target.value)}},{key:"drawNodesChangeHandler",value:function(e){this.world.setDrawNodes(e.target.checked)}},{key:"fillModeChangeHandler",value:function(e){this.world.setFillMode(e.target.checked)}},{key:"debugModeChangeHandler",value:function(e){this.world.setDebugMode(e.target.checked)}},{key:"invertedColorsChangeHandler",value:function(e){this.world.setInvertedColors(e.target.checked),document.querySelector("body").classList.toggle("is-inverted")}},{key:"traceModeChangeHandler",value:function(e){this.world.setTraceMode(e.target.checked)}},{key:"drawHistoryChangeHandler",value:function(e){this.world.setDrawHistory(e.target.checked)}},{key:"historyIntervalChangeHandler",value:function(e){this.historyIntervalValue.innerHTML=e.target.value}},{key:"maxHistoryChangeHandler",value:function(e){this.maxHistoryValue.innerHTML=e.target.value}},{key:"brownianMotionChangeHandler",value:function(e){this.world.setBrownianMotion(e.target.checked)}},{key:"brownianMotionRangeChangeHandler",value:function(e){this.brownianMotionValue.innerHTML=e.target.value}}]),t}();t.exports=n},{}],20:[function(e,t,r){t.exports={MinDistance:2,MaxDistance:5,RepulsionRadius:15,AttractionForce:.2,RepulsionForce:.6,AlignmentForce:.55,NodeInjectionInterval:100,DrawNodes:!1,TraceMode:!1,InvertedColors:!1,DebugMode:!1,FillMode:!1,DrawHistory:!1,ShowBounds:!0}},{}],21:[function(e,t,r){var p,y,v,m,g,x,_,w,M=e("../../core/Node"),b=e("../../core/Path"),O=e("../../core/World"),T=e("../../core/SVGLoader"),C=e("./Settings"),N=e("./ParametersPanel"),k=[],E=0,A=document.querySelectorAll("button"),R=document.querySelector(".svgImportInput"),S=document.querySelector(".play"),H=document.querySelector(".modal");new p5(function(s){function t(e){var t,r=_createForOfIteratorHelper(A);try{for(r.s();!(t=r.n()).done;){t.value.classList.remove("is-active")}}catch(e){r.e(e)}finally{r.f()}switch(e){case 0:document.querySelector(".freehand").classList.add("is-active");break;case 1:document.querySelector(".rectangle").classList.add("is-active");break;case 2:document.querySelector(".circle").classList.add("is-active")}E=e}function e(e){e.target.classList.contains("freehand")?t(0):e.target.classList.contains("rectangle")?t(1):e.target.classList.contains("circle")&&t(2)}function r(){R.click()}function n(){p.clearPaths(),p.drawBackground()}function i(){p.export()}function o(){p.togglePause();var e=S.querySelector(".icon");p.paused?(e.classList.remove("fa-pause"),e.classList.add("fa-play")):(e.classList.remove("fa-play"),e.classList.add("fa-pause"))}function a(e){window.location.href=e.target.getAttribute("data-href")}function u(){l("keyboard-controls")}function h(){l("about")}function c(){l("parameters")}function l(e){var t,r=_createForOfIteratorHelper(H.querySelectorAll(".modal-content > div:not(.close)"));try{for(r.s();!(t=r.n()).done;){t.value.classList.add("is-hidden")}}catch(e){r.e(e)}finally{r.f()}H.querySelector("."+e+"-content").classList.remove("is-hidden"),H.classList.add("is-visible"),H.querySelector(".modal-backdrop").addEventListener("click",d),H.querySelector(".close").addEventListener("click",d)}function d(){H.classList.remove("is-visible")}function f(){var e=this.files[0];if("image/svg+xml"===e.type){var r=new FileReader;r.onload=function(){var e=(new DOMParser).parseFromString(r.result,"image/svg+xml"),t=T.load(s,e,C);p.addPaths(t),p.draw()},r.readAsText(e)}document.querySelector(".import").blur()}s.setup=function(){s.createCanvas(window.innerWidth,window.innerHeight),s.colorMode(s.HSB,255),s.rectMode(s.CENTER),s.smooth(),(p=new O(s,C)).pause();new N(p);document.querySelector(".freehand").addEventListener("click",e),document.querySelector(".rectangle").addEventListener("click",e),document.querySelector(".circle").addEventListener("click",e),document.querySelector(".import").addEventListener("click",r),document.querySelector(".reset").addEventListener("click",n),document.querySelector(".export").addEventListener("click",i),document.querySelector(".play").addEventListener("click",o),document.querySelector(".viewSource").addEventListener("click",a),document.querySelector(".keyboard").addEventListener("click",u),document.querySelector(".about").addEventListener("click",h),document.querySelector(".parameters").addEventListener("click",c),document.querySelector(".svgImportInput").addEventListener("change",f),document.querySelector(".start").addEventListener("click",d)},s.draw=function(){p.paused||(p.iterate(),p.draw())},s.mousePressed=function(){switch(E){case 1:case 2:v=s.mouseX,m=s.mouseY}},s.mouseReleased=function(){switch(E){case 0:if(s.mouseButton==s.LEFT){if(0==k.length)return;var e=!1,t=k[0];k[k.length-1].distance(t)<=10&&(e=!0),y=new b(s,k,C,e),p.addPath(y),k=[]}break;case 1:g=s.mouseX,x=s.mouseY,k.push(new M(s,v,m,C)),k.push(new M(s,g,m,C)),k.push(new M(s,g,x,C)),k.push(new M(s,v,x,C)),y=new b(s,k,C,!0),p.addPath(y),k=[];break;case 2:g=s.mouseX,x=s.mouseY,_=g-v,w=x-m;for(var r=0;r<360;r++)k.push(new M(s,v+_/2+_/2*Math.cos(r*Math.PI/180),m+w/2+w/2*Math.sin(r*Math.PI/180),C));y=new b(s,k,C,!0),p.addPath(y),k=[]}p.draw()},s.mouseDragged=function(){switch(p.paused||p.pause(),p.draw(),E){case 0:if(s.mouseButton==s.LEFT){if(k.push(new M(s,s.mouseX,s.mouseY,C)),0<k.length){var e,t=_createForOfIteratorHelper(k.entries());try{for(t.s();!(e=t.n()).done;){var r=_slicedToArray(e.value,2),n=r[0],i=r[1];0<n&&(s.stroke(0),s.line(k[n-1].x,k[n-1].y,i.x,i.y))}}catch(e){t.e(e)}finally{t.f()}}var o=k[0];k[k.length-1].distance(o)<=10&&(s.fill(150),s.noStroke(),s.ellipseMode(s.CENTER),s.ellipse(k[0].x,k[0].y,20))}break;case 1:s.mouseButton==s.LEFT&&(s.stroke(0),s.line(v,m,s.mouseX,m),s.line(s.mouseX,m,s.mouseX,s.mouseY),s.line(s.mouseX,s.mouseY,v,s.mouseY),s.line(v,s.mouseY,v,m));break;case 2:s.mouseButton==s.LEFT&&null!=v&&null!=m&&(s.stroke(0),s.noFill(),s.ellipseMode(s.CORNERS),s.ellipse(v,m,s.mouseX,s.mouseY))}},s.keyReleased=function(){switch(s.key){case"t":p.toggleTraceMode();break;case"n":p.toggleDrawNodes();break;case"r":p.clearPaths(),p.drawBackground();break;case" ":o();break;case"i":p.toggleInvertedColors();break;case"d":p.toggleDebugMode();break;case"f":p.toggleFillMode();break;case"h":p.toggleDrawHistory();break;case"s":p.export();break;case"b":p.toggleDrawBounds()}}})},{"../../core/Node":3,"../../core/Path":4,"../../core/SVGLoader":5,"../../core/World":6,"./ParametersPanel":19,"./Settings":20}]},{},[21]);